ARM GAS  /tmp/ccxXSbXI.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f429i_discovery_sdram.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.BSP_SDRAM_Initialization_sequence,"ax",%progbits
  20              		.align	1
  21              		.global	BSP_SDRAM_Initialization_sequence
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	BSP_SDRAM_Initialization_sequence:
  27              	.LVL0:
  28              	.LFB131:
  29              		.file 1 "Src/stm32f429i_discovery_sdram.c"
   1:Src/stm32f429i_discovery_sdram.c **** /**
   2:Src/stm32f429i_discovery_sdram.c ****   ******************************************************************************
   3:Src/stm32f429i_discovery_sdram.c ****   * @file    stm32f429i_discovery_sdram.c
   4:Src/stm32f429i_discovery_sdram.c ****   * @author  MCD Application Team
   5:Src/stm32f429i_discovery_sdram.c ****   * @brief   This file provides a set of functions needed to drive the
   6:Src/stm32f429i_discovery_sdram.c ****   *          IS42S16400J SDRAM memory mounted on STM32F429I-Discovery Kit.    
   7:Src/stm32f429i_discovery_sdram.c ****   ******************************************************************************
   8:Src/stm32f429i_discovery_sdram.c ****   * @attention
   9:Src/stm32f429i_discovery_sdram.c ****   *
  10:Src/stm32f429i_discovery_sdram.c ****   * <h2><center>&copy; COPYRIGHT(c) 2017 STMicroelectronics</center></h2>
  11:Src/stm32f429i_discovery_sdram.c ****   *
  12:Src/stm32f429i_discovery_sdram.c ****   * Redistribution and use in source and binary forms, with or without modification,
  13:Src/stm32f429i_discovery_sdram.c ****   * are permitted provided that the following conditions are met:
  14:Src/stm32f429i_discovery_sdram.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  15:Src/stm32f429i_discovery_sdram.c ****   *      this list of conditions and the following disclaimer.
  16:Src/stm32f429i_discovery_sdram.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  17:Src/stm32f429i_discovery_sdram.c ****   *      this list of conditions and the following disclaimer in the documentation
  18:Src/stm32f429i_discovery_sdram.c ****   *      and/or other materials provided with the distribution.
  19:Src/stm32f429i_discovery_sdram.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  20:Src/stm32f429i_discovery_sdram.c ****   *      may be used to endorse or promote products derived from this software
  21:Src/stm32f429i_discovery_sdram.c ****   *      without specific prior written permission.
  22:Src/stm32f429i_discovery_sdram.c ****   *
  23:Src/stm32f429i_discovery_sdram.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  24:Src/stm32f429i_discovery_sdram.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  25:Src/stm32f429i_discovery_sdram.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  26:Src/stm32f429i_discovery_sdram.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  27:Src/stm32f429i_discovery_sdram.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  28:Src/stm32f429i_discovery_sdram.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  29:Src/stm32f429i_discovery_sdram.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
ARM GAS  /tmp/ccxXSbXI.s 			page 2


  30:Src/stm32f429i_discovery_sdram.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  31:Src/stm32f429i_discovery_sdram.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  32:Src/stm32f429i_discovery_sdram.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  33:Src/stm32f429i_discovery_sdram.c ****   *
  34:Src/stm32f429i_discovery_sdram.c ****   ******************************************************************************
  35:Src/stm32f429i_discovery_sdram.c ****   */
  36:Src/stm32f429i_discovery_sdram.c **** 
  37:Src/stm32f429i_discovery_sdram.c **** /* Includes ------------------------------------------------------------------*/
  38:Src/stm32f429i_discovery_sdram.c **** #include "stm32f429i_discovery_sdram.h"
  39:Src/stm32f429i_discovery_sdram.c **** 
  40:Src/stm32f429i_discovery_sdram.c **** /** @addtogroup BSP
  41:Src/stm32f429i_discovery_sdram.c ****   * @{
  42:Src/stm32f429i_discovery_sdram.c ****   */ 
  43:Src/stm32f429i_discovery_sdram.c **** 
  44:Src/stm32f429i_discovery_sdram.c **** /** @addtogroup STM32F429I_DISCOVERY
  45:Src/stm32f429i_discovery_sdram.c ****   * @{
  46:Src/stm32f429i_discovery_sdram.c ****   */
  47:Src/stm32f429i_discovery_sdram.c ****   
  48:Src/stm32f429i_discovery_sdram.c **** /** @defgroup STM32F429I_DISCOVERY_SDRAM STM32F429I DISCOVERY SDRAM
  49:Src/stm32f429i_discovery_sdram.c ****   * @{
  50:Src/stm32f429i_discovery_sdram.c **** */ 
  51:Src/stm32f429i_discovery_sdram.c **** 
  52:Src/stm32f429i_discovery_sdram.c **** /** @defgroup STM32F429I_DISCOVERY_SDRAM_Private_Types_Definitions STM32F429I DISCOVERY SDRAM Priva
  53:Src/stm32f429i_discovery_sdram.c ****   * @{
  54:Src/stm32f429i_discovery_sdram.c ****   */
  55:Src/stm32f429i_discovery_sdram.c **** /**
  56:Src/stm32f429i_discovery_sdram.c ****   * @}
  57:Src/stm32f429i_discovery_sdram.c ****   */ 
  58:Src/stm32f429i_discovery_sdram.c **** 
  59:Src/stm32f429i_discovery_sdram.c **** /** @defgroup STM32F429I_DISCOVERY_SDRAM_Private_Defines STM32F429I DISCOVERY SDRAM Private Defines
  60:Src/stm32f429i_discovery_sdram.c ****   * @{
  61:Src/stm32f429i_discovery_sdram.c ****   */
  62:Src/stm32f429i_discovery_sdram.c **** /**
  63:Src/stm32f429i_discovery_sdram.c ****   * @}
  64:Src/stm32f429i_discovery_sdram.c ****   */  
  65:Src/stm32f429i_discovery_sdram.c **** 
  66:Src/stm32f429i_discovery_sdram.c **** /** @defgroup STM32F429I_DISCOVERY_SDRAM_Private_Macros STM32F429I DISCOVERY SDRAM Private Macros
  67:Src/stm32f429i_discovery_sdram.c ****   * @{
  68:Src/stm32f429i_discovery_sdram.c ****   */ 
  69:Src/stm32f429i_discovery_sdram.c **** /**
  70:Src/stm32f429i_discovery_sdram.c ****   * @}
  71:Src/stm32f429i_discovery_sdram.c ****   */  
  72:Src/stm32f429i_discovery_sdram.c **** 
  73:Src/stm32f429i_discovery_sdram.c **** /** @defgroup STM32F429I_DISCOVERY_SDRAM_Private_Variables STM32F429I DISCOVERY SDRAM Private Varia
  74:Src/stm32f429i_discovery_sdram.c ****   * @{
  75:Src/stm32f429i_discovery_sdram.c ****   */
  76:Src/stm32f429i_discovery_sdram.c **** static SDRAM_HandleTypeDef SdramHandle;
  77:Src/stm32f429i_discovery_sdram.c **** static FMC_SDRAM_TimingTypeDef Timing;
  78:Src/stm32f429i_discovery_sdram.c **** static FMC_SDRAM_CommandTypeDef Command;
  79:Src/stm32f429i_discovery_sdram.c **** /**
  80:Src/stm32f429i_discovery_sdram.c ****   * @}
  81:Src/stm32f429i_discovery_sdram.c ****   */ 
  82:Src/stm32f429i_discovery_sdram.c **** 
  83:Src/stm32f429i_discovery_sdram.c **** /** @defgroup STM32F429I_DISCOVERY_SDRAM_Private_Function_Prototypes STM32F429I DISCOVERY SDRAM Pri
  84:Src/stm32f429i_discovery_sdram.c ****   * @{
  85:Src/stm32f429i_discovery_sdram.c ****   */ 
  86:Src/stm32f429i_discovery_sdram.c **** /**
ARM GAS  /tmp/ccxXSbXI.s 			page 3


  87:Src/stm32f429i_discovery_sdram.c ****   * @}
  88:Src/stm32f429i_discovery_sdram.c ****   */
  89:Src/stm32f429i_discovery_sdram.c **** 
  90:Src/stm32f429i_discovery_sdram.c **** /** @defgroup STM32F429I_DISCOVERY_SDRAM_Private_Functions STM32F429I DISCOVERY SDRAM Private Funct
  91:Src/stm32f429i_discovery_sdram.c ****   * @{
  92:Src/stm32f429i_discovery_sdram.c ****   */
  93:Src/stm32f429i_discovery_sdram.c **** 
  94:Src/stm32f429i_discovery_sdram.c **** /**
  95:Src/stm32f429i_discovery_sdram.c ****   * @brief  Initializes the SDRAM device.
  96:Src/stm32f429i_discovery_sdram.c ****   */
  97:Src/stm32f429i_discovery_sdram.c **** uint8_t BSP_SDRAM_Init(void)
  98:Src/stm32f429i_discovery_sdram.c **** {
  99:Src/stm32f429i_discovery_sdram.c ****   static uint8_t sdramstatus = SDRAM_ERROR;
 100:Src/stm32f429i_discovery_sdram.c **** 
 101:Src/stm32f429i_discovery_sdram.c ****   /* SDRAM device configuration */
 102:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Instance = FMC_SDRAM_DEVICE;
 103:Src/stm32f429i_discovery_sdram.c **** 
 104:Src/stm32f429i_discovery_sdram.c ****   /* FMC Configuration -------------------------------------------------------*/
 105:Src/stm32f429i_discovery_sdram.c ****   /* FMC SDRAM Bank configuration */
 106:Src/stm32f429i_discovery_sdram.c ****   /* Timing configuration for 90 Mhz of SD clock frequency (180Mhz/2) */
 107:Src/stm32f429i_discovery_sdram.c ****   /* TMRD: 2 Clock cycles */
 108:Src/stm32f429i_discovery_sdram.c ****   Timing.LoadToActiveDelay    = 2;
 109:Src/stm32f429i_discovery_sdram.c ****   /* TXSR: min=70ns (7x11.11ns) */
 110:Src/stm32f429i_discovery_sdram.c ****   Timing.ExitSelfRefreshDelay = 7;
 111:Src/stm32f429i_discovery_sdram.c ****   /* TRAS: min=42ns (4x11.11ns) max=120k (ns) */
 112:Src/stm32f429i_discovery_sdram.c ****   Timing.SelfRefreshTime      = 4;
 113:Src/stm32f429i_discovery_sdram.c ****   /* TRC:  min=70 (7x11.11ns) */
 114:Src/stm32f429i_discovery_sdram.c ****   Timing.RowCycleDelay        = 7;
 115:Src/stm32f429i_discovery_sdram.c ****   /* TWR:  min=1+ 7ns (1+1x11.11ns) */
 116:Src/stm32f429i_discovery_sdram.c ****   Timing.WriteRecoveryTime    = 2;
 117:Src/stm32f429i_discovery_sdram.c ****   /* TRP:  20ns => 2x11.11ns*/
 118:Src/stm32f429i_discovery_sdram.c ****   Timing.RPDelay              = 2;
 119:Src/stm32f429i_discovery_sdram.c ****   /* TRCD: 20ns => 2x11.11ns */
 120:Src/stm32f429i_discovery_sdram.c ****   Timing.RCDDelay             = 2;
 121:Src/stm32f429i_discovery_sdram.c ****   
 122:Src/stm32f429i_discovery_sdram.c ****   /* FMC SDRAM control configuration */
 123:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.SDBank             = FMC_SDRAM_BANK2;
 124:Src/stm32f429i_discovery_sdram.c ****   /* Row addressing: [7:0] */
 125:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.ColumnBitsNumber   = FMC_SDRAM_COLUMN_BITS_NUM_8;
 126:Src/stm32f429i_discovery_sdram.c ****   /* Column addressing: [11:0] */
 127:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.RowBitsNumber      = FMC_SDRAM_ROW_BITS_NUM_12;
 128:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.MemoryDataWidth    = SDRAM_MEMORY_WIDTH;
 129:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.InternalBankNumber = FMC_SDRAM_INTERN_BANKS_NUM_4;
 130:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.CASLatency         = SDRAM_CAS_LATENCY;
 131:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.WriteProtection    = FMC_SDRAM_WRITE_PROTECTION_DISABLE;
 132:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.SDClockPeriod      = SDCLOCK_PERIOD;
 133:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.ReadBurst          = SDRAM_READBURST;
 134:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.ReadPipeDelay      = FMC_SDRAM_RPIPE_DELAY_1;
 135:Src/stm32f429i_discovery_sdram.c ****                     
 136:Src/stm32f429i_discovery_sdram.c ****   /* SDRAM controller initialization */
 137:Src/stm32f429i_discovery_sdram.c ****   /* __weak function can be surcharged by the application code */
 138:Src/stm32f429i_discovery_sdram.c ****   BSP_SDRAM_MspInit(&SdramHandle, (void *)NULL);
 139:Src/stm32f429i_discovery_sdram.c ****   if(HAL_SDRAM_Init(&SdramHandle, &Timing) != HAL_OK)
 140:Src/stm32f429i_discovery_sdram.c ****   {
 141:Src/stm32f429i_discovery_sdram.c ****     sdramstatus = SDRAM_ERROR;
 142:Src/stm32f429i_discovery_sdram.c ****   }
 143:Src/stm32f429i_discovery_sdram.c ****   else
ARM GAS  /tmp/ccxXSbXI.s 			page 4


 144:Src/stm32f429i_discovery_sdram.c ****   {
 145:Src/stm32f429i_discovery_sdram.c ****     sdramstatus = SDRAM_OK;
 146:Src/stm32f429i_discovery_sdram.c ****   }
 147:Src/stm32f429i_discovery_sdram.c ****   
 148:Src/stm32f429i_discovery_sdram.c ****   /* SDRAM initialization sequence */
 149:Src/stm32f429i_discovery_sdram.c ****   BSP_SDRAM_Initialization_sequence(REFRESH_COUNT);
 150:Src/stm32f429i_discovery_sdram.c ****   
 151:Src/stm32f429i_discovery_sdram.c ****   return sdramstatus;
 152:Src/stm32f429i_discovery_sdram.c **** }
 153:Src/stm32f429i_discovery_sdram.c **** 
 154:Src/stm32f429i_discovery_sdram.c **** /**
 155:Src/stm32f429i_discovery_sdram.c ****   * @brief  Programs the SDRAM device.
 156:Src/stm32f429i_discovery_sdram.c ****   * @param  RefreshCount: SDRAM refresh counter value 
 157:Src/stm32f429i_discovery_sdram.c ****   */
 158:Src/stm32f429i_discovery_sdram.c **** void BSP_SDRAM_Initialization_sequence(uint32_t RefreshCount)
 159:Src/stm32f429i_discovery_sdram.c **** {
  30              		.loc 1 159 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 159 1 is_stmt 0 view .LVU1
  35 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 32
  38              		.cfi_offset 4, -32
  39              		.cfi_offset 5, -28
  40              		.cfi_offset 6, -24
  41              		.cfi_offset 7, -20
  42              		.cfi_offset 8, -16
  43              		.cfi_offset 9, -12
  44              		.cfi_offset 10, -8
  45              		.cfi_offset 14, -4
  46 0004 82B0     		sub	sp, sp, #8
  47              	.LCFI1:
  48              		.cfi_def_cfa_offset 40
  49 0006 8146     		mov	r9, r0
 160:Src/stm32f429i_discovery_sdram.c ****   __IO uint32_t tmpmrd =0;
  50              		.loc 1 160 3 is_stmt 1 view .LVU2
  51              		.loc 1 160 17 is_stmt 0 view .LVU3
  52 0008 4FF00008 		mov	r8, #0
  53 000c CDF80480 		str	r8, [sp, #4]
 161:Src/stm32f429i_discovery_sdram.c ****   
 162:Src/stm32f429i_discovery_sdram.c ****   /* Step 1:  Configure a clock configuration enable command */
 163:Src/stm32f429i_discovery_sdram.c ****   Command.CommandMode             = FMC_SDRAM_CMD_CLK_ENABLE;
  54              		.loc 1 163 3 is_stmt 1 view .LVU4
  55              		.loc 1 163 35 is_stmt 0 view .LVU5
  56 0010 214C     		ldr	r4, .L3
  57 0012 0126     		movs	r6, #1
  58 0014 2660     		str	r6, [r4]
 164:Src/stm32f429i_discovery_sdram.c ****   Command.CommandTarget           = FMC_SDRAM_CMD_TARGET_BANK2;
  59              		.loc 1 164 3 is_stmt 1 view .LVU6
  60              		.loc 1 164 35 is_stmt 0 view .LVU7
  61 0016 0827     		movs	r7, #8
  62 0018 6760     		str	r7, [r4, #4]
 165:Src/stm32f429i_discovery_sdram.c ****   Command.AutoRefreshNumber       = 1;
  63              		.loc 1 165 3 is_stmt 1 view .LVU8
  64              		.loc 1 165 35 is_stmt 0 view .LVU9
ARM GAS  /tmp/ccxXSbXI.s 			page 5


  65 001a A660     		str	r6, [r4, #8]
 166:Src/stm32f429i_discovery_sdram.c ****   Command.ModeRegisterDefinition  = 0;
  66              		.loc 1 166 3 is_stmt 1 view .LVU10
  67              		.loc 1 166 35 is_stmt 0 view .LVU11
  68 001c C4F80C80 		str	r8, [r4, #12]
 167:Src/stm32f429i_discovery_sdram.c **** 
 168:Src/stm32f429i_discovery_sdram.c ****   /* Send the command */
 169:Src/stm32f429i_discovery_sdram.c ****   HAL_SDRAM_SendCommand(&SdramHandle, &Command, SDRAM_TIMEOUT);
  69              		.loc 1 169 3 is_stmt 1 view .LVU12
  70 0020 1E4D     		ldr	r5, .L3+4
  71 0022 4FF6FF72 		movw	r2, #65535
  72 0026 2146     		mov	r1, r4
  73 0028 2846     		mov	r0, r5
  74              	.LVL1:
  75              		.loc 1 169 3 is_stmt 0 view .LVU13
  76 002a FFF7FEFF 		bl	HAL_SDRAM_SendCommand
  77              	.LVL2:
 170:Src/stm32f429i_discovery_sdram.c **** 
 171:Src/stm32f429i_discovery_sdram.c ****   /* Step 2: Insert 100 us minimum delay */ 
 172:Src/stm32f429i_discovery_sdram.c ****   /* Inserted delay is equal to 1 ms due to systick time base unit (ms) */
 173:Src/stm32f429i_discovery_sdram.c ****   HAL_Delay(1);
  78              		.loc 1 173 3 is_stmt 1 view .LVU14
  79 002e 3046     		mov	r0, r6
  80 0030 FFF7FEFF 		bl	HAL_Delay
  81              	.LVL3:
 174:Src/stm32f429i_discovery_sdram.c **** 
 175:Src/stm32f429i_discovery_sdram.c ****   /* Step 3: Configure a PALL (precharge all) command */ 
 176:Src/stm32f429i_discovery_sdram.c ****   Command.CommandMode             = FMC_SDRAM_CMD_PALL;
  82              		.loc 1 176 3 view .LVU15
  83              		.loc 1 176 35 is_stmt 0 view .LVU16
  84 0034 0223     		movs	r3, #2
  85 0036 2360     		str	r3, [r4]
 177:Src/stm32f429i_discovery_sdram.c ****   Command.CommandTarget           = FMC_SDRAM_CMD_TARGET_BANK2;
  86              		.loc 1 177 3 is_stmt 1 view .LVU17
  87              		.loc 1 177 35 is_stmt 0 view .LVU18
  88 0038 6760     		str	r7, [r4, #4]
 178:Src/stm32f429i_discovery_sdram.c ****   Command.AutoRefreshNumber       = 1;
  89              		.loc 1 178 3 is_stmt 1 view .LVU19
  90              		.loc 1 178 35 is_stmt 0 view .LVU20
  91 003a A660     		str	r6, [r4, #8]
 179:Src/stm32f429i_discovery_sdram.c ****   Command.ModeRegisterDefinition  = 0;
  92              		.loc 1 179 3 is_stmt 1 view .LVU21
  93              		.loc 1 179 35 is_stmt 0 view .LVU22
  94 003c C4F80C80 		str	r8, [r4, #12]
 180:Src/stm32f429i_discovery_sdram.c **** 
 181:Src/stm32f429i_discovery_sdram.c ****   /* Send the command */
 182:Src/stm32f429i_discovery_sdram.c ****   HAL_SDRAM_SendCommand(&SdramHandle, &Command, SDRAM_TIMEOUT);  
  95              		.loc 1 182 3 is_stmt 1 view .LVU23
  96 0040 4FF6FF72 		movw	r2, #65535
  97 0044 2146     		mov	r1, r4
  98 0046 2846     		mov	r0, r5
  99 0048 FFF7FEFF 		bl	HAL_SDRAM_SendCommand
 100              	.LVL4:
 183:Src/stm32f429i_discovery_sdram.c ****   
 184:Src/stm32f429i_discovery_sdram.c ****   /* Step 4: Configure an Auto Refresh command */ 
 185:Src/stm32f429i_discovery_sdram.c ****   Command.CommandMode             = FMC_SDRAM_CMD_AUTOREFRESH_MODE;
 101              		.loc 1 185 3 view .LVU24
ARM GAS  /tmp/ccxXSbXI.s 			page 6


 102              		.loc 1 185 35 is_stmt 0 view .LVU25
 103 004c 0323     		movs	r3, #3
 104 004e 2360     		str	r3, [r4]
 186:Src/stm32f429i_discovery_sdram.c ****   Command.CommandTarget           = FMC_SDRAM_CMD_TARGET_BANK2;
 105              		.loc 1 186 3 is_stmt 1 view .LVU26
 106              		.loc 1 186 35 is_stmt 0 view .LVU27
 107 0050 6760     		str	r7, [r4, #4]
 187:Src/stm32f429i_discovery_sdram.c ****   Command.AutoRefreshNumber       = 4;
 108              		.loc 1 187 3 is_stmt 1 view .LVU28
 109              		.loc 1 187 35 is_stmt 0 view .LVU29
 110 0052 4FF0040A 		mov	r10, #4
 111 0056 C4F808A0 		str	r10, [r4, #8]
 188:Src/stm32f429i_discovery_sdram.c ****   Command.ModeRegisterDefinition  = 0;
 112              		.loc 1 188 3 is_stmt 1 view .LVU30
 113              		.loc 1 188 35 is_stmt 0 view .LVU31
 114 005a C4F80C80 		str	r8, [r4, #12]
 189:Src/stm32f429i_discovery_sdram.c **** 
 190:Src/stm32f429i_discovery_sdram.c ****   /* Send the command */
 191:Src/stm32f429i_discovery_sdram.c ****   HAL_SDRAM_SendCommand(&SdramHandle, &Command, SDRAM_TIMEOUT);
 115              		.loc 1 191 3 is_stmt 1 view .LVU32
 116 005e 4FF6FF72 		movw	r2, #65535
 117 0062 2146     		mov	r1, r4
 118 0064 2846     		mov	r0, r5
 119 0066 FFF7FEFF 		bl	HAL_SDRAM_SendCommand
 120              	.LVL5:
 192:Src/stm32f429i_discovery_sdram.c ****   
 193:Src/stm32f429i_discovery_sdram.c ****   /* Step 5: Program the external memory mode register */
 194:Src/stm32f429i_discovery_sdram.c ****   tmpmrd = (uint32_t)SDRAM_MODEREG_BURST_LENGTH_1          |
 121              		.loc 1 194 3 view .LVU33
 122              		.loc 1 194 10 is_stmt 0 view .LVU34
 123 006a 4FF40C73 		mov	r3, #560
 124 006e 0193     		str	r3, [sp, #4]
 195:Src/stm32f429i_discovery_sdram.c ****                      SDRAM_MODEREG_BURST_TYPE_SEQUENTIAL   |
 196:Src/stm32f429i_discovery_sdram.c ****                      SDRAM_MODEREG_CAS_LATENCY_3           |
 197:Src/stm32f429i_discovery_sdram.c ****                      SDRAM_MODEREG_OPERATING_MODE_STANDARD |
 198:Src/stm32f429i_discovery_sdram.c ****                      SDRAM_MODEREG_WRITEBURST_MODE_SINGLE;
 199:Src/stm32f429i_discovery_sdram.c ****   
 200:Src/stm32f429i_discovery_sdram.c ****   Command.CommandMode             = FMC_SDRAM_CMD_LOAD_MODE;
 125              		.loc 1 200 3 is_stmt 1 view .LVU35
 126              		.loc 1 200 35 is_stmt 0 view .LVU36
 127 0070 C4F800A0 		str	r10, [r4]
 201:Src/stm32f429i_discovery_sdram.c ****   Command.CommandTarget           = FMC_SDRAM_CMD_TARGET_BANK2;
 128              		.loc 1 201 3 is_stmt 1 view .LVU37
 129              		.loc 1 201 35 is_stmt 0 view .LVU38
 130 0074 6760     		str	r7, [r4, #4]
 202:Src/stm32f429i_discovery_sdram.c ****   Command.AutoRefreshNumber       = 1;
 131              		.loc 1 202 3 is_stmt 1 view .LVU39
 132              		.loc 1 202 35 is_stmt 0 view .LVU40
 133 0076 A660     		str	r6, [r4, #8]
 203:Src/stm32f429i_discovery_sdram.c ****   Command.ModeRegisterDefinition  = tmpmrd;
 134              		.loc 1 203 3 is_stmt 1 view .LVU41
 135              		.loc 1 203 35 is_stmt 0 view .LVU42
 136 0078 019B     		ldr	r3, [sp, #4]
 137 007a E360     		str	r3, [r4, #12]
 204:Src/stm32f429i_discovery_sdram.c **** 
 205:Src/stm32f429i_discovery_sdram.c ****   /* Send the command */
 206:Src/stm32f429i_discovery_sdram.c ****   HAL_SDRAM_SendCommand(&SdramHandle, &Command, SDRAM_TIMEOUT);
ARM GAS  /tmp/ccxXSbXI.s 			page 7


 138              		.loc 1 206 3 is_stmt 1 view .LVU43
 139 007c 4FF6FF72 		movw	r2, #65535
 140 0080 2146     		mov	r1, r4
 141 0082 2846     		mov	r0, r5
 142 0084 FFF7FEFF 		bl	HAL_SDRAM_SendCommand
 143              	.LVL6:
 207:Src/stm32f429i_discovery_sdram.c ****   
 208:Src/stm32f429i_discovery_sdram.c ****   /* Step 6: Set the refresh rate counter */
 209:Src/stm32f429i_discovery_sdram.c ****   /* Set the device refresh rate */
 210:Src/stm32f429i_discovery_sdram.c ****   HAL_SDRAM_ProgramRefreshRate(&SdramHandle, RefreshCount); 
 144              		.loc 1 210 3 view .LVU44
 145 0088 4946     		mov	r1, r9
 146 008a 2846     		mov	r0, r5
 147 008c FFF7FEFF 		bl	HAL_SDRAM_ProgramRefreshRate
 148              	.LVL7:
 211:Src/stm32f429i_discovery_sdram.c **** }
 149              		.loc 1 211 1 is_stmt 0 view .LVU45
 150 0090 02B0     		add	sp, sp, #8
 151              	.LCFI2:
 152              		.cfi_def_cfa_offset 32
 153              		@ sp needed
 154 0092 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 155              	.LVL8:
 156              	.L4:
 157              		.loc 1 211 1 view .LVU46
 158 0096 00BF     		.align	2
 159              	.L3:
 160 0098 00000000 		.word	.LANCHOR0
 161 009c 00000000 		.word	.LANCHOR1
 162              		.cfi_endproc
 163              	.LFE131:
 165              		.section	.text.BSP_SDRAM_ReadData,"ax",%progbits
 166              		.align	1
 167              		.global	BSP_SDRAM_ReadData
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 172              	BSP_SDRAM_ReadData:
 173              	.LVL9:
 174              	.LFB132:
 212:Src/stm32f429i_discovery_sdram.c **** 
 213:Src/stm32f429i_discovery_sdram.c **** /**
 214:Src/stm32f429i_discovery_sdram.c ****   * @brief  Reads an mount of data from the SDRAM memory in polling mode. 
 215:Src/stm32f429i_discovery_sdram.c ****   * @param  uwStartAddress : Read start address
 216:Src/stm32f429i_discovery_sdram.c ****   * @param  pData : Pointer to data to be read  
 217:Src/stm32f429i_discovery_sdram.c ****   * @param  uwDataSize: Size of read data from the memory
 218:Src/stm32f429i_discovery_sdram.c ****   */
 219:Src/stm32f429i_discovery_sdram.c **** uint8_t BSP_SDRAM_ReadData(uint32_t uwStartAddress, uint32_t *pData, uint32_t uwDataSize)
 220:Src/stm32f429i_discovery_sdram.c **** {
 175              		.loc 1 220 1 is_stmt 1 view -0
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 0
 178              		@ frame_needed = 0, uses_anonymous_args = 0
 179              		.loc 1 220 1 is_stmt 0 view .LVU48
 180 0000 08B5     		push	{r3, lr}
 181              	.LCFI3:
 182              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccxXSbXI.s 			page 8


 183              		.cfi_offset 3, -8
 184              		.cfi_offset 14, -4
 185 0002 1346     		mov	r3, r2
 221:Src/stm32f429i_discovery_sdram.c ****   if(HAL_SDRAM_Read_32b(&SdramHandle, (uint32_t *)uwStartAddress, pData, uwDataSize) != HAL_OK)
 186              		.loc 1 221 3 is_stmt 1 view .LVU49
 187              		.loc 1 221 6 is_stmt 0 view .LVU50
 188 0004 0A46     		mov	r2, r1
 189              	.LVL10:
 190              		.loc 1 221 6 view .LVU51
 191 0006 0146     		mov	r1, r0
 192              	.LVL11:
 193              		.loc 1 221 6 view .LVU52
 194 0008 0248     		ldr	r0, .L8
 195              	.LVL12:
 196              		.loc 1 221 6 view .LVU53
 197 000a FFF7FEFF 		bl	HAL_SDRAM_Read_32b
 198              	.LVL13:
 199              		.loc 1 221 5 view .LVU54
 200 000e 00B1     		cbz	r0, .L6
 222:Src/stm32f429i_discovery_sdram.c ****   {
 223:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_ERROR;
 201              		.loc 1 223 12 view .LVU55
 202 0010 0120     		movs	r0, #1
 203              	.L6:
 224:Src/stm32f429i_discovery_sdram.c ****   }
 225:Src/stm32f429i_discovery_sdram.c ****   else
 226:Src/stm32f429i_discovery_sdram.c ****   {
 227:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_OK;
 228:Src/stm32f429i_discovery_sdram.c ****   }  
 229:Src/stm32f429i_discovery_sdram.c **** }
 204              		.loc 1 229 1 view .LVU56
 205 0012 08BD     		pop	{r3, pc}
 206              	.L9:
 207              		.align	2
 208              	.L8:
 209 0014 00000000 		.word	.LANCHOR1
 210              		.cfi_endproc
 211              	.LFE132:
 213              		.section	.text.BSP_SDRAM_ReadData_DMA,"ax",%progbits
 214              		.align	1
 215              		.global	BSP_SDRAM_ReadData_DMA
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 220              	BSP_SDRAM_ReadData_DMA:
 221              	.LVL14:
 222              	.LFB133:
 230:Src/stm32f429i_discovery_sdram.c **** 
 231:Src/stm32f429i_discovery_sdram.c **** /**
 232:Src/stm32f429i_discovery_sdram.c ****   * @brief  Reads an mount of data from the SDRAM memory in DMA mode. 
 233:Src/stm32f429i_discovery_sdram.c ****   * @param  uwStartAddress : Read start address
 234:Src/stm32f429i_discovery_sdram.c ****   * @param  pData : Pointer to data to be read  
 235:Src/stm32f429i_discovery_sdram.c ****   * @param  uwDataSize: Size of read data from the memory
 236:Src/stm32f429i_discovery_sdram.c ****   */
 237:Src/stm32f429i_discovery_sdram.c **** uint8_t BSP_SDRAM_ReadData_DMA(uint32_t uwStartAddress, uint32_t *pData, uint32_t uwDataSize) 
 238:Src/stm32f429i_discovery_sdram.c **** {
 223              		.loc 1 238 1 is_stmt 1 view -0
ARM GAS  /tmp/ccxXSbXI.s 			page 9


 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227              		.loc 1 238 1 is_stmt 0 view .LVU58
 228 0000 08B5     		push	{r3, lr}
 229              	.LCFI4:
 230              		.cfi_def_cfa_offset 8
 231              		.cfi_offset 3, -8
 232              		.cfi_offset 14, -4
 233 0002 1346     		mov	r3, r2
 239:Src/stm32f429i_discovery_sdram.c ****   if(HAL_SDRAM_Read_DMA(&SdramHandle, (uint32_t *)uwStartAddress, pData, uwDataSize) != HAL_OK)
 234              		.loc 1 239 3 is_stmt 1 view .LVU59
 235              		.loc 1 239 6 is_stmt 0 view .LVU60
 236 0004 0A46     		mov	r2, r1
 237              	.LVL15:
 238              		.loc 1 239 6 view .LVU61
 239 0006 0146     		mov	r1, r0
 240              	.LVL16:
 241              		.loc 1 239 6 view .LVU62
 242 0008 0248     		ldr	r0, .L13
 243              	.LVL17:
 244              		.loc 1 239 6 view .LVU63
 245 000a FFF7FEFF 		bl	HAL_SDRAM_Read_DMA
 246              	.LVL18:
 247              		.loc 1 239 5 view .LVU64
 248 000e 00B1     		cbz	r0, .L11
 240:Src/stm32f429i_discovery_sdram.c ****   {
 241:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_ERROR;
 249              		.loc 1 241 12 view .LVU65
 250 0010 0120     		movs	r0, #1
 251              	.L11:
 242:Src/stm32f429i_discovery_sdram.c ****   }
 243:Src/stm32f429i_discovery_sdram.c ****   else
 244:Src/stm32f429i_discovery_sdram.c ****   {
 245:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_OK;
 246:Src/stm32f429i_discovery_sdram.c ****   }        
 247:Src/stm32f429i_discovery_sdram.c **** }
 252              		.loc 1 247 1 view .LVU66
 253 0012 08BD     		pop	{r3, pc}
 254              	.L14:
 255              		.align	2
 256              	.L13:
 257 0014 00000000 		.word	.LANCHOR1
 258              		.cfi_endproc
 259              	.LFE133:
 261              		.section	.text.BSP_SDRAM_WriteData,"ax",%progbits
 262              		.align	1
 263              		.global	BSP_SDRAM_WriteData
 264              		.syntax unified
 265              		.thumb
 266              		.thumb_func
 268              	BSP_SDRAM_WriteData:
 269              	.LVL19:
 270              	.LFB134:
 248:Src/stm32f429i_discovery_sdram.c ****   
 249:Src/stm32f429i_discovery_sdram.c **** /**
 250:Src/stm32f429i_discovery_sdram.c ****   * @brief  Writes an mount of data to the SDRAM memory in polling mode.
ARM GAS  /tmp/ccxXSbXI.s 			page 10


 251:Src/stm32f429i_discovery_sdram.c ****   * @param  uwStartAddress : Write start address
 252:Src/stm32f429i_discovery_sdram.c ****   * @param  pData : Pointer to data to be written  
 253:Src/stm32f429i_discovery_sdram.c ****   * @param  uwDataSize: Size of written data from the memory
 254:Src/stm32f429i_discovery_sdram.c ****   */
 255:Src/stm32f429i_discovery_sdram.c **** uint8_t BSP_SDRAM_WriteData(uint32_t uwStartAddress, uint32_t *pData, uint32_t uwDataSize) 
 256:Src/stm32f429i_discovery_sdram.c **** {
 271              		.loc 1 256 1 is_stmt 1 view -0
 272              		.cfi_startproc
 273              		@ args = 0, pretend = 0, frame = 0
 274              		@ frame_needed = 0, uses_anonymous_args = 0
 275              		.loc 1 256 1 is_stmt 0 view .LVU68
 276 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 277              	.LCFI5:
 278              		.cfi_def_cfa_offset 24
 279              		.cfi_offset 3, -24
 280              		.cfi_offset 4, -20
 281              		.cfi_offset 5, -16
 282              		.cfi_offset 6, -12
 283              		.cfi_offset 7, -8
 284              		.cfi_offset 14, -4
 285 0002 0446     		mov	r4, r0
 286 0004 0D46     		mov	r5, r1
 287 0006 1646     		mov	r6, r2
 257:Src/stm32f429i_discovery_sdram.c ****   /* Disable write protection */
 258:Src/stm32f429i_discovery_sdram.c ****   HAL_SDRAM_WriteProtection_Disable(&SdramHandle);
 288              		.loc 1 258 3 is_stmt 1 view .LVU69
 289 0008 064F     		ldr	r7, .L18
 290 000a 3846     		mov	r0, r7
 291              	.LVL20:
 292              		.loc 1 258 3 is_stmt 0 view .LVU70
 293 000c FFF7FEFF 		bl	HAL_SDRAM_WriteProtection_Disable
 294              	.LVL21:
 259:Src/stm32f429i_discovery_sdram.c ****   
 260:Src/stm32f429i_discovery_sdram.c ****   /*Write 32-bit data buffer to SDRAM memory*/
 261:Src/stm32f429i_discovery_sdram.c ****   if(HAL_SDRAM_Write_32b(&SdramHandle, (uint32_t *)uwStartAddress, pData, uwDataSize) != HAL_OK)
 295              		.loc 1 261 3 is_stmt 1 view .LVU71
 296              		.loc 1 261 6 is_stmt 0 view .LVU72
 297 0010 3346     		mov	r3, r6
 298 0012 2A46     		mov	r2, r5
 299 0014 2146     		mov	r1, r4
 300 0016 3846     		mov	r0, r7
 301 0018 FFF7FEFF 		bl	HAL_SDRAM_Write_32b
 302              	.LVL22:
 303              		.loc 1 261 5 view .LVU73
 304 001c 00B1     		cbz	r0, .L16
 262:Src/stm32f429i_discovery_sdram.c ****   {
 263:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_ERROR;
 305              		.loc 1 263 12 view .LVU74
 306 001e 0120     		movs	r0, #1
 307              	.L16:
 264:Src/stm32f429i_discovery_sdram.c ****   }
 265:Src/stm32f429i_discovery_sdram.c ****   else
 266:Src/stm32f429i_discovery_sdram.c ****   {
 267:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_OK;
 268:Src/stm32f429i_discovery_sdram.c ****   }  
 269:Src/stm32f429i_discovery_sdram.c **** }
 308              		.loc 1 269 1 view .LVU75
ARM GAS  /tmp/ccxXSbXI.s 			page 11


 309 0020 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 310              	.LVL23:
 311              	.L19:
 312              		.loc 1 269 1 view .LVU76
 313 0022 00BF     		.align	2
 314              	.L18:
 315 0024 00000000 		.word	.LANCHOR1
 316              		.cfi_endproc
 317              	.LFE134:
 319              		.section	.text.BSP_SDRAM_WriteData_DMA,"ax",%progbits
 320              		.align	1
 321              		.global	BSP_SDRAM_WriteData_DMA
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 326              	BSP_SDRAM_WriteData_DMA:
 327              	.LVL24:
 328              	.LFB135:
 270:Src/stm32f429i_discovery_sdram.c **** 
 271:Src/stm32f429i_discovery_sdram.c **** /**
 272:Src/stm32f429i_discovery_sdram.c ****   * @brief  Writes an mount of data to the SDRAM memory in DMA mode.
 273:Src/stm32f429i_discovery_sdram.c ****   * @param  uwStartAddress : Write start address
 274:Src/stm32f429i_discovery_sdram.c ****   * @param  pData : Pointer to data to be written  
 275:Src/stm32f429i_discovery_sdram.c ****   * @param  uwDataSize: Size of written data from the memory
 276:Src/stm32f429i_discovery_sdram.c ****   */
 277:Src/stm32f429i_discovery_sdram.c **** uint8_t BSP_SDRAM_WriteData_DMA(uint32_t uwStartAddress, uint32_t *pData, uint32_t uwDataSize) 
 278:Src/stm32f429i_discovery_sdram.c **** {
 329              		.loc 1 278 1 is_stmt 1 view -0
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 0
 332              		@ frame_needed = 0, uses_anonymous_args = 0
 333              		.loc 1 278 1 is_stmt 0 view .LVU78
 334 0000 08B5     		push	{r3, lr}
 335              	.LCFI6:
 336              		.cfi_def_cfa_offset 8
 337              		.cfi_offset 3, -8
 338              		.cfi_offset 14, -4
 339 0002 1346     		mov	r3, r2
 279:Src/stm32f429i_discovery_sdram.c ****   if(HAL_SDRAM_Write_DMA(&SdramHandle, (uint32_t *)uwStartAddress, pData, uwDataSize) != HAL_OK)
 340              		.loc 1 279 3 is_stmt 1 view .LVU79
 341              		.loc 1 279 6 is_stmt 0 view .LVU80
 342 0004 0A46     		mov	r2, r1
 343              	.LVL25:
 344              		.loc 1 279 6 view .LVU81
 345 0006 0146     		mov	r1, r0
 346              	.LVL26:
 347              		.loc 1 279 6 view .LVU82
 348 0008 0248     		ldr	r0, .L23
 349              	.LVL27:
 350              		.loc 1 279 6 view .LVU83
 351 000a FFF7FEFF 		bl	HAL_SDRAM_Write_DMA
 352              	.LVL28:
 353              		.loc 1 279 5 view .LVU84
 354 000e 00B1     		cbz	r0, .L21
 280:Src/stm32f429i_discovery_sdram.c ****   {
 281:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_ERROR;
 355              		.loc 1 281 12 view .LVU85
ARM GAS  /tmp/ccxXSbXI.s 			page 12


 356 0010 0120     		movs	r0, #1
 357              	.L21:
 282:Src/stm32f429i_discovery_sdram.c ****   }
 283:Src/stm32f429i_discovery_sdram.c ****   else
 284:Src/stm32f429i_discovery_sdram.c ****   {
 285:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_OK;
 286:Src/stm32f429i_discovery_sdram.c ****   }   
 287:Src/stm32f429i_discovery_sdram.c **** }
 358              		.loc 1 287 1 view .LVU86
 359 0012 08BD     		pop	{r3, pc}
 360              	.L24:
 361              		.align	2
 362              	.L23:
 363 0014 00000000 		.word	.LANCHOR1
 364              		.cfi_endproc
 365              	.LFE135:
 367              		.section	.text.BSP_SDRAM_Sendcmd,"ax",%progbits
 368              		.align	1
 369              		.global	BSP_SDRAM_Sendcmd
 370              		.syntax unified
 371              		.thumb
 372              		.thumb_func
 374              	BSP_SDRAM_Sendcmd:
 375              	.LVL29:
 376              	.LFB136:
 288:Src/stm32f429i_discovery_sdram.c **** 
 289:Src/stm32f429i_discovery_sdram.c **** /**
 290:Src/stm32f429i_discovery_sdram.c ****   * @brief  Sends command to the SDRAM bank.
 291:Src/stm32f429i_discovery_sdram.c ****   * @param  SdramCmd: Pointer to SDRAM command structure 
 292:Src/stm32f429i_discovery_sdram.c ****   * @retval HAL status
 293:Src/stm32f429i_discovery_sdram.c ****   */  
 294:Src/stm32f429i_discovery_sdram.c **** uint8_t BSP_SDRAM_Sendcmd(FMC_SDRAM_CommandTypeDef *SdramCmd)
 295:Src/stm32f429i_discovery_sdram.c **** {
 377              		.loc 1 295 1 is_stmt 1 view -0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
 381              		.loc 1 295 1 is_stmt 0 view .LVU88
 382 0000 08B5     		push	{r3, lr}
 383              	.LCFI7:
 384              		.cfi_def_cfa_offset 8
 385              		.cfi_offset 3, -8
 386              		.cfi_offset 14, -4
 387 0002 0146     		mov	r1, r0
 296:Src/stm32f429i_discovery_sdram.c ****   if(HAL_SDRAM_SendCommand(&SdramHandle, SdramCmd, SDRAM_TIMEOUT) != HAL_OK)
 388              		.loc 1 296 3 is_stmt 1 view .LVU89
 389              		.loc 1 296 6 is_stmt 0 view .LVU90
 390 0004 4FF6FF72 		movw	r2, #65535
 391 0008 0248     		ldr	r0, .L28
 392              	.LVL30:
 393              		.loc 1 296 6 view .LVU91
 394 000a FFF7FEFF 		bl	HAL_SDRAM_SendCommand
 395              	.LVL31:
 396              		.loc 1 296 5 view .LVU92
 397 000e 00B1     		cbz	r0, .L26
 297:Src/stm32f429i_discovery_sdram.c ****   {
 298:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_ERROR;
ARM GAS  /tmp/ccxXSbXI.s 			page 13


 398              		.loc 1 298 12 view .LVU93
 399 0010 0120     		movs	r0, #1
 400              	.L26:
 299:Src/stm32f429i_discovery_sdram.c ****   }
 300:Src/stm32f429i_discovery_sdram.c ****   else
 301:Src/stm32f429i_discovery_sdram.c ****   {
 302:Src/stm32f429i_discovery_sdram.c ****     return SDRAM_OK;
 303:Src/stm32f429i_discovery_sdram.c ****   }
 304:Src/stm32f429i_discovery_sdram.c **** }
 401              		.loc 1 304 1 view .LVU94
 402 0012 08BD     		pop	{r3, pc}
 403              	.L29:
 404              		.align	2
 405              	.L28:
 406 0014 00000000 		.word	.LANCHOR1
 407              		.cfi_endproc
 408              	.LFE136:
 410              		.section	.text.BSP_SDRAM_DMA_IRQHandler,"ax",%progbits
 411              		.align	1
 412              		.global	BSP_SDRAM_DMA_IRQHandler
 413              		.syntax unified
 414              		.thumb
 415              		.thumb_func
 417              	BSP_SDRAM_DMA_IRQHandler:
 418              	.LFB137:
 305:Src/stm32f429i_discovery_sdram.c **** 
 306:Src/stm32f429i_discovery_sdram.c **** /**
 307:Src/stm32f429i_discovery_sdram.c ****   * @brief  Handles SDRAM DMA transfer interrupt request.
 308:Src/stm32f429i_discovery_sdram.c ****   */
 309:Src/stm32f429i_discovery_sdram.c **** void BSP_SDRAM_DMA_IRQHandler(void)
 310:Src/stm32f429i_discovery_sdram.c **** {
 419              		.loc 1 310 1 is_stmt 1 view -0
 420              		.cfi_startproc
 421              		@ args = 0, pretend = 0, frame = 0
 422              		@ frame_needed = 0, uses_anonymous_args = 0
 423 0000 08B5     		push	{r3, lr}
 424              	.LCFI8:
 425              		.cfi_def_cfa_offset 8
 426              		.cfi_offset 3, -8
 427              		.cfi_offset 14, -4
 311:Src/stm32f429i_discovery_sdram.c ****   HAL_DMA_IRQHandler(SdramHandle.hdma); 
 428              		.loc 1 311 3 view .LVU96
 429 0002 024B     		ldr	r3, .L32
 430 0004 186B     		ldr	r0, [r3, #48]
 431 0006 FFF7FEFF 		bl	HAL_DMA_IRQHandler
 432              	.LVL32:
 312:Src/stm32f429i_discovery_sdram.c **** }
 433              		.loc 1 312 1 is_stmt 0 view .LVU97
 434 000a 08BD     		pop	{r3, pc}
 435              	.L33:
 436              		.align	2
 437              	.L32:
 438 000c 00000000 		.word	.LANCHOR1
 439              		.cfi_endproc
 440              	.LFE137:
 442              		.section	.text.BSP_SDRAM_MspInit,"ax",%progbits
 443              		.align	1
ARM GAS  /tmp/ccxXSbXI.s 			page 14


 444              		.weak	BSP_SDRAM_MspInit
 445              		.syntax unified
 446              		.thumb
 447              		.thumb_func
 449              	BSP_SDRAM_MspInit:
 450              	.LVL33:
 451              	.LFB138:
 313:Src/stm32f429i_discovery_sdram.c **** 
 314:Src/stm32f429i_discovery_sdram.c **** /**
 315:Src/stm32f429i_discovery_sdram.c ****   * @brief  Initializes SDRAM MSP.
 316:Src/stm32f429i_discovery_sdram.c ****   * @note   This function can be surcharged by application code.
 317:Src/stm32f429i_discovery_sdram.c ****   * @param  hsdram: pointer on SDRAM handle
 318:Src/stm32f429i_discovery_sdram.c ****   * @param  Params: pointer on additional configuration parameters, can be NULL.
 319:Src/stm32f429i_discovery_sdram.c ****   */
 320:Src/stm32f429i_discovery_sdram.c **** __weak void BSP_SDRAM_MspInit(SDRAM_HandleTypeDef  *hsdram, void *Params)
 321:Src/stm32f429i_discovery_sdram.c **** {
 452              		.loc 1 321 1 is_stmt 1 view -0
 453              		.cfi_startproc
 454              		@ args = 0, pretend = 0, frame = 56
 455              		@ frame_needed = 0, uses_anonymous_args = 0
 322:Src/stm32f429i_discovery_sdram.c ****   static DMA_HandleTypeDef dmaHandle;
 456              		.loc 1 322 3 view .LVU99
 323:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitTypeDef GPIO_InitStructure;
 457              		.loc 1 323 3 view .LVU100
 324:Src/stm32f429i_discovery_sdram.c **** 
 325:Src/stm32f429i_discovery_sdram.c ****   if(hsdram != (SDRAM_HandleTypeDef  *)NULL)
 458              		.loc 1 325 3 view .LVU101
 459              		.loc 1 325 5 is_stmt 0 view .LVU102
 460 0000 0028     		cmp	r0, #0
 461 0002 00F0B080 		beq	.L37
 321:Src/stm32f429i_discovery_sdram.c ****   static DMA_HandleTypeDef dmaHandle;
 462              		.loc 1 321 1 view .LVU103
 463 0006 70B5     		push	{r4, r5, r6, lr}
 464              	.LCFI9:
 465              		.cfi_def_cfa_offset 16
 466              		.cfi_offset 4, -16
 467              		.cfi_offset 5, -12
 468              		.cfi_offset 6, -8
 469              		.cfi_offset 14, -4
 470 0008 8EB0     		sub	sp, sp, #56
 471              	.LCFI10:
 472              		.cfi_def_cfa_offset 72
 473 000a 0646     		mov	r6, r0
 326:Src/stm32f429i_discovery_sdram.c ****   {
 327:Src/stm32f429i_discovery_sdram.c ****   /* Enable FMC clock */
 328:Src/stm32f429i_discovery_sdram.c ****   __HAL_RCC_FMC_CLK_ENABLE();
 474              		.loc 1 328 3 is_stmt 1 view .LVU104
 475              	.LBB2:
 476              		.loc 1 328 3 view .LVU105
 477 000c 0025     		movs	r5, #0
 478 000e 0195     		str	r5, [sp, #4]
 479              		.loc 1 328 3 view .LVU106
 480 0010 554B     		ldr	r3, .L40
 481 0012 9A6B     		ldr	r2, [r3, #56]
 482 0014 42F00102 		orr	r2, r2, #1
 483 0018 9A63     		str	r2, [r3, #56]
 484              		.loc 1 328 3 view .LVU107
ARM GAS  /tmp/ccxXSbXI.s 			page 15


 485 001a 9A6B     		ldr	r2, [r3, #56]
 486 001c 02F00102 		and	r2, r2, #1
 487 0020 0192     		str	r2, [sp, #4]
 488              		.loc 1 328 3 view .LVU108
 489 0022 019A     		ldr	r2, [sp, #4]
 490              	.LBE2:
 491              		.loc 1 328 3 view .LVU109
 329:Src/stm32f429i_discovery_sdram.c **** 
 330:Src/stm32f429i_discovery_sdram.c ****   /* Enable chosen DMAx clock */
 331:Src/stm32f429i_discovery_sdram.c ****   __DMAx_CLK_ENABLE();
 492              		.loc 1 331 3 view .LVU110
 493              	.LBB3:
 494              		.loc 1 331 3 view .LVU111
 495 0024 0295     		str	r5, [sp, #8]
 496              		.loc 1 331 3 view .LVU112
 497 0026 1A6B     		ldr	r2, [r3, #48]
 498 0028 42F48002 		orr	r2, r2, #4194304
 499 002c 1A63     		str	r2, [r3, #48]
 500              		.loc 1 331 3 view .LVU113
 501 002e 1A6B     		ldr	r2, [r3, #48]
 502 0030 02F48002 		and	r2, r2, #4194304
 503 0034 0292     		str	r2, [sp, #8]
 504              		.loc 1 331 3 view .LVU114
 505 0036 029A     		ldr	r2, [sp, #8]
 506              	.LBE3:
 507              		.loc 1 331 3 view .LVU115
 332:Src/stm32f429i_discovery_sdram.c **** 
 333:Src/stm32f429i_discovery_sdram.c ****   /* Enable GPIOs clock */
 334:Src/stm32f429i_discovery_sdram.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 508              		.loc 1 334 3 view .LVU116
 509              	.LBB4:
 510              		.loc 1 334 3 view .LVU117
 511 0038 0395     		str	r5, [sp, #12]
 512              		.loc 1 334 3 view .LVU118
 513 003a 1A6B     		ldr	r2, [r3, #48]
 514 003c 42F00202 		orr	r2, r2, #2
 515 0040 1A63     		str	r2, [r3, #48]
 516              		.loc 1 334 3 view .LVU119
 517 0042 1A6B     		ldr	r2, [r3, #48]
 518 0044 02F00202 		and	r2, r2, #2
 519 0048 0392     		str	r2, [sp, #12]
 520              		.loc 1 334 3 view .LVU120
 521 004a 039A     		ldr	r2, [sp, #12]
 522              	.LBE4:
 523              		.loc 1 334 3 view .LVU121
 335:Src/stm32f429i_discovery_sdram.c ****   __HAL_RCC_GPIOC_CLK_ENABLE();
 524              		.loc 1 335 3 view .LVU122
 525              	.LBB5:
 526              		.loc 1 335 3 view .LVU123
 527 004c 0495     		str	r5, [sp, #16]
 528              		.loc 1 335 3 view .LVU124
 529 004e 1A6B     		ldr	r2, [r3, #48]
 530 0050 42F00402 		orr	r2, r2, #4
 531 0054 1A63     		str	r2, [r3, #48]
 532              		.loc 1 335 3 view .LVU125
 533 0056 1A6B     		ldr	r2, [r3, #48]
 534 0058 02F00402 		and	r2, r2, #4
ARM GAS  /tmp/ccxXSbXI.s 			page 16


 535 005c 0492     		str	r2, [sp, #16]
 536              		.loc 1 335 3 view .LVU126
 537 005e 049A     		ldr	r2, [sp, #16]
 538              	.LBE5:
 539              		.loc 1 335 3 view .LVU127
 336:Src/stm32f429i_discovery_sdram.c ****   __HAL_RCC_GPIOD_CLK_ENABLE();
 540              		.loc 1 336 3 view .LVU128
 541              	.LBB6:
 542              		.loc 1 336 3 view .LVU129
 543 0060 0595     		str	r5, [sp, #20]
 544              		.loc 1 336 3 view .LVU130
 545 0062 1A6B     		ldr	r2, [r3, #48]
 546 0064 42F00802 		orr	r2, r2, #8
 547 0068 1A63     		str	r2, [r3, #48]
 548              		.loc 1 336 3 view .LVU131
 549 006a 1A6B     		ldr	r2, [r3, #48]
 550 006c 02F00802 		and	r2, r2, #8
 551 0070 0592     		str	r2, [sp, #20]
 552              		.loc 1 336 3 view .LVU132
 553 0072 059A     		ldr	r2, [sp, #20]
 554              	.LBE6:
 555              		.loc 1 336 3 view .LVU133
 337:Src/stm32f429i_discovery_sdram.c ****   __HAL_RCC_GPIOE_CLK_ENABLE();
 556              		.loc 1 337 3 view .LVU134
 557              	.LBB7:
 558              		.loc 1 337 3 view .LVU135
 559 0074 0695     		str	r5, [sp, #24]
 560              		.loc 1 337 3 view .LVU136
 561 0076 1A6B     		ldr	r2, [r3, #48]
 562 0078 42F01002 		orr	r2, r2, #16
 563 007c 1A63     		str	r2, [r3, #48]
 564              		.loc 1 337 3 view .LVU137
 565 007e 1A6B     		ldr	r2, [r3, #48]
 566 0080 02F01002 		and	r2, r2, #16
 567 0084 0692     		str	r2, [sp, #24]
 568              		.loc 1 337 3 view .LVU138
 569 0086 069A     		ldr	r2, [sp, #24]
 570              	.LBE7:
 571              		.loc 1 337 3 view .LVU139
 338:Src/stm32f429i_discovery_sdram.c ****   __HAL_RCC_GPIOF_CLK_ENABLE();
 572              		.loc 1 338 3 view .LVU140
 573              	.LBB8:
 574              		.loc 1 338 3 view .LVU141
 575 0088 0795     		str	r5, [sp, #28]
 576              		.loc 1 338 3 view .LVU142
 577 008a 1A6B     		ldr	r2, [r3, #48]
 578 008c 42F02002 		orr	r2, r2, #32
 579 0090 1A63     		str	r2, [r3, #48]
 580              		.loc 1 338 3 view .LVU143
 581 0092 1A6B     		ldr	r2, [r3, #48]
 582 0094 02F02002 		and	r2, r2, #32
 583 0098 0792     		str	r2, [sp, #28]
 584              		.loc 1 338 3 view .LVU144
 585 009a 079A     		ldr	r2, [sp, #28]
 586              	.LBE8:
 587              		.loc 1 338 3 view .LVU145
 339:Src/stm32f429i_discovery_sdram.c ****   __HAL_RCC_GPIOG_CLK_ENABLE();
ARM GAS  /tmp/ccxXSbXI.s 			page 17


 588              		.loc 1 339 3 view .LVU146
 589              	.LBB9:
 590              		.loc 1 339 3 view .LVU147
 591 009c 0895     		str	r5, [sp, #32]
 592              		.loc 1 339 3 view .LVU148
 593 009e 1A6B     		ldr	r2, [r3, #48]
 594 00a0 42F04002 		orr	r2, r2, #64
 595 00a4 1A63     		str	r2, [r3, #48]
 596              		.loc 1 339 3 view .LVU149
 597 00a6 1B6B     		ldr	r3, [r3, #48]
 598 00a8 03F04003 		and	r3, r3, #64
 599 00ac 0893     		str	r3, [sp, #32]
 600              		.loc 1 339 3 view .LVU150
 601 00ae 089B     		ldr	r3, [sp, #32]
 602              	.LBE9:
 603              		.loc 1 339 3 view .LVU151
 340:Src/stm32f429i_discovery_sdram.c ****                             
 341:Src/stm32f429i_discovery_sdram.c **** /*-- GPIOs Configuration -----------------------------------------------------*/
 342:Src/stm32f429i_discovery_sdram.c **** /*
 343:Src/stm32f429i_discovery_sdram.c ****  +-------------------+--------------------+--------------------+--------------------+
 344:Src/stm32f429i_discovery_sdram.c ****  +                       SDRAM pins assignment                                      +
 345:Src/stm32f429i_discovery_sdram.c ****  +-------------------+--------------------+--------------------+--------------------+
 346:Src/stm32f429i_discovery_sdram.c ****  | PD0  <-> FMC_D2   | PE0  <-> FMC_NBL0  | PF0  <-> FMC_A0    | PG0  <-> FMC_A10   |
 347:Src/stm32f429i_discovery_sdram.c ****  | PD1  <-> FMC_D3   | PE1  <-> FMC_NBL1  | PF1  <-> FMC_A1    | PG1  <-> FMC_A11   |
 348:Src/stm32f429i_discovery_sdram.c ****  | PD8  <-> FMC_D13  | PE7  <-> FMC_D4    | PF2  <-> FMC_A2    | PG8  <-> FMC_SDCLK |
 349:Src/stm32f429i_discovery_sdram.c ****  | PD9  <-> FMC_D14  | PE8  <-> FMC_D5    | PF3  <-> FMC_A3    | PG15 <-> FMC_NCAS  |
 350:Src/stm32f429i_discovery_sdram.c ****  | PD10 <-> FMC_D15  | PE9  <-> FMC_D6    | PF4  <-> FMC_A4    |--------------------+ 
 351:Src/stm32f429i_discovery_sdram.c ****  | PD14 <-> FMC_D0   | PE10 <-> FMC_D7    | PF5  <-> FMC_A5    |   
 352:Src/stm32f429i_discovery_sdram.c ****  | PD15 <-> FMC_D1   | PE11 <-> FMC_D8    | PF11 <-> FMC_NRAS  | 
 353:Src/stm32f429i_discovery_sdram.c ****  +-------------------| PE12 <-> FMC_D9    | PF12 <-> FMC_A6    | 
 354:Src/stm32f429i_discovery_sdram.c ****                      | PE13 <-> FMC_D10   | PF13 <-> FMC_A7    |    
 355:Src/stm32f429i_discovery_sdram.c ****                      | PE14 <-> FMC_D11   | PF14 <-> FMC_A8    |
 356:Src/stm32f429i_discovery_sdram.c ****                      | PE15 <-> FMC_D12   | PF15 <-> FMC_A9    |
 357:Src/stm32f429i_discovery_sdram.c ****  +-------------------+--------------------+--------------------+
 358:Src/stm32f429i_discovery_sdram.c ****  | PB5 <-> FMC_SDCKE1| 
 359:Src/stm32f429i_discovery_sdram.c ****  | PB6 <-> FMC_SDNE1 | 
 360:Src/stm32f429i_discovery_sdram.c ****  | PC0 <-> FMC_SDNWE |
 361:Src/stm32f429i_discovery_sdram.c ****  +-------------------+  
 362:Src/stm32f429i_discovery_sdram.c ****   
 363:Src/stm32f429i_discovery_sdram.c **** */
 364:Src/stm32f429i_discovery_sdram.c ****   
 365:Src/stm32f429i_discovery_sdram.c ****   /* Common GPIO configuration */
 366:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Mode  = GPIO_MODE_AF_PP;
 604              		.loc 1 366 3 view .LVU152
 605              		.loc 1 366 28 is_stmt 0 view .LVU153
 606 00b0 0223     		movs	r3, #2
 607 00b2 0A93     		str	r3, [sp, #40]
 367:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Speed = GPIO_SPEED_FAST;
 608              		.loc 1 367 3 is_stmt 1 view .LVU154
 609              		.loc 1 367 28 is_stmt 0 view .LVU155
 610 00b4 0C93     		str	r3, [sp, #48]
 368:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Pull  = GPIO_NOPULL;
 611              		.loc 1 368 3 is_stmt 1 view .LVU156
 612              		.loc 1 368 28 is_stmt 0 view .LVU157
 613 00b6 0B95     		str	r5, [sp, #44]
 369:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Alternate = GPIO_AF12_FMC;
 614              		.loc 1 369 3 is_stmt 1 view .LVU158
ARM GAS  /tmp/ccxXSbXI.s 			page 18


 615              		.loc 1 369 32 is_stmt 0 view .LVU159
 616 00b8 0C23     		movs	r3, #12
 617 00ba 0D93     		str	r3, [sp, #52]
 370:Src/stm32f429i_discovery_sdram.c **** 
 371:Src/stm32f429i_discovery_sdram.c ****   /* GPIOB configuration */
 372:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Pin = GPIO_PIN_5 | GPIO_PIN_6;
 618              		.loc 1 372 3 is_stmt 1 view .LVU160
 619              		.loc 1 372 26 is_stmt 0 view .LVU161
 620 00bc 6023     		movs	r3, #96
 621 00be 0993     		str	r3, [sp, #36]
 373:Src/stm32f429i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStructure);  
 622              		.loc 1 373 3 is_stmt 1 view .LVU162
 623 00c0 09A9     		add	r1, sp, #36
 624              	.LVL34:
 625              		.loc 1 373 3 is_stmt 0 view .LVU163
 626 00c2 2A48     		ldr	r0, .L40+4
 627              	.LVL35:
 628              		.loc 1 373 3 view .LVU164
 629 00c4 FFF7FEFF 		bl	HAL_GPIO_Init
 630              	.LVL36:
 374:Src/stm32f429i_discovery_sdram.c **** 
 375:Src/stm32f429i_discovery_sdram.c ****   /* GPIOC configuration */
 376:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Pin = GPIO_PIN_0;      
 631              		.loc 1 376 3 is_stmt 1 view .LVU165
 632              		.loc 1 376 26 is_stmt 0 view .LVU166
 633 00c8 0123     		movs	r3, #1
 634 00ca 0993     		str	r3, [sp, #36]
 377:Src/stm32f429i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOC, &GPIO_InitStructure);  
 635              		.loc 1 377 3 is_stmt 1 view .LVU167
 636 00cc 09A9     		add	r1, sp, #36
 637 00ce 2848     		ldr	r0, .L40+8
 638 00d0 FFF7FEFF 		bl	HAL_GPIO_Init
 639              	.LVL37:
 378:Src/stm32f429i_discovery_sdram.c ****   
 379:Src/stm32f429i_discovery_sdram.c ****   /* GPIOD configuration */
 380:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Pin = GPIO_PIN_0 | GPIO_PIN_1  | GPIO_PIN_8 |
 640              		.loc 1 380 3 view .LVU168
 641              		.loc 1 380 26 is_stmt 0 view .LVU169
 642 00d4 4CF20373 		movw	r3, #50947
 643 00d8 0993     		str	r3, [sp, #36]
 381:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_9 | GPIO_PIN_10 | GPIO_PIN_14 |
 382:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_15;
 383:Src/stm32f429i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOD, &GPIO_InitStructure);
 644              		.loc 1 383 3 is_stmt 1 view .LVU170
 645 00da 09A9     		add	r1, sp, #36
 646 00dc 2548     		ldr	r0, .L40+12
 647 00de FFF7FEFF 		bl	HAL_GPIO_Init
 648              	.LVL38:
 384:Src/stm32f429i_discovery_sdram.c **** 
 385:Src/stm32f429i_discovery_sdram.c ****   /* GPIOE configuration */
 386:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Pin = GPIO_PIN_0  | GPIO_PIN_1  | GPIO_PIN_7 |
 649              		.loc 1 386 3 view .LVU171
 650              		.loc 1 386 26 is_stmt 0 view .LVU172
 651 00e2 4FF68373 		movw	r3, #65411
 652 00e6 0993     		str	r3, [sp, #36]
 387:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_8  | GPIO_PIN_9  | GPIO_PIN_10 |
 388:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_11 | GPIO_PIN_12 | GPIO_PIN_13 |
ARM GAS  /tmp/ccxXSbXI.s 			page 19


 389:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_14 | GPIO_PIN_15;
 390:Src/stm32f429i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOE, &GPIO_InitStructure);
 653              		.loc 1 390 3 is_stmt 1 view .LVU173
 654 00e8 09A9     		add	r1, sp, #36
 655 00ea 2348     		ldr	r0, .L40+16
 656 00ec FFF7FEFF 		bl	HAL_GPIO_Init
 657              	.LVL39:
 391:Src/stm32f429i_discovery_sdram.c **** 
 392:Src/stm32f429i_discovery_sdram.c ****   /* GPIOF configuration */
 393:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Pin = GPIO_PIN_0  | GPIO_PIN_1 | GPIO_PIN_2 | 
 658              		.loc 1 393 3 view .LVU174
 659              		.loc 1 393 26 is_stmt 0 view .LVU175
 660 00f0 4FF63F03 		movw	r3, #63551
 661 00f4 0993     		str	r3, [sp, #36]
 394:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_3  | GPIO_PIN_4 | GPIO_PIN_5 |
 395:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_11 | GPIO_PIN_12 | GPIO_PIN_13 |
 396:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_14 | GPIO_PIN_15;
 397:Src/stm32f429i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOF, &GPIO_InitStructure);
 662              		.loc 1 397 3 is_stmt 1 view .LVU176
 663 00f6 09A9     		add	r1, sp, #36
 664 00f8 2048     		ldr	r0, .L40+20
 665 00fa FFF7FEFF 		bl	HAL_GPIO_Init
 666              	.LVL40:
 398:Src/stm32f429i_discovery_sdram.c **** 
 399:Src/stm32f429i_discovery_sdram.c ****   /* GPIOG configuration */
 400:Src/stm32f429i_discovery_sdram.c ****   GPIO_InitStructure.Pin = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_4 |
 667              		.loc 1 400 3 view .LVU177
 668              		.loc 1 400 26 is_stmt 0 view .LVU178
 669 00fe 48F23313 		movw	r3, #33075
 670 0102 0993     		str	r3, [sp, #36]
 401:Src/stm32f429i_discovery_sdram.c ****                            GPIO_PIN_5 | GPIO_PIN_8 | GPIO_PIN_15;
 402:Src/stm32f429i_discovery_sdram.c ****   HAL_GPIO_Init(GPIOG, &GPIO_InitStructure);
 671              		.loc 1 402 3 is_stmt 1 view .LVU179
 672 0104 09A9     		add	r1, sp, #36
 673 0106 1E48     		ldr	r0, .L40+24
 674 0108 FFF7FEFF 		bl	HAL_GPIO_Init
 675              	.LVL41:
 403:Src/stm32f429i_discovery_sdram.c **** 
 404:Src/stm32f429i_discovery_sdram.c ****   /* Configure common DMA parameters */
 405:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.Channel             = SDRAM_DMAx_CHANNEL;
 676              		.loc 1 405 3 view .LVU180
 677              		.loc 1 405 38 is_stmt 0 view .LVU181
 678 010c 1D4C     		ldr	r4, .L40+28
 679 010e 6560     		str	r5, [r4, #4]
 406:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.Direction           = DMA_MEMORY_TO_MEMORY;
 680              		.loc 1 406 3 is_stmt 1 view .LVU182
 681              		.loc 1 406 38 is_stmt 0 view .LVU183
 682 0110 8023     		movs	r3, #128
 683 0112 A360     		str	r3, [r4, #8]
 407:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.PeriphInc           = DMA_PINC_ENABLE;
 684              		.loc 1 407 3 is_stmt 1 view .LVU184
 685              		.loc 1 407 38 is_stmt 0 view .LVU185
 686 0114 4FF40073 		mov	r3, #512
 687 0118 E360     		str	r3, [r4, #12]
 408:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.MemInc              = DMA_MINC_ENABLE;
 688              		.loc 1 408 3 is_stmt 1 view .LVU186
 689              		.loc 1 408 38 is_stmt 0 view .LVU187
ARM GAS  /tmp/ccxXSbXI.s 			page 20


 690 011a 4FF48063 		mov	r3, #1024
 691 011e 2361     		str	r3, [r4, #16]
 409:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.PeriphDataAlignment = DMA_PDATAALIGN_WORD;
 692              		.loc 1 409 3 is_stmt 1 view .LVU188
 693              		.loc 1 409 38 is_stmt 0 view .LVU189
 694 0120 4FF48053 		mov	r3, #4096
 695 0124 6361     		str	r3, [r4, #20]
 410:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.MemDataAlignment    = DMA_MDATAALIGN_WORD;
 696              		.loc 1 410 3 is_stmt 1 view .LVU190
 697              		.loc 1 410 38 is_stmt 0 view .LVU191
 698 0126 4FF48043 		mov	r3, #16384
 699 012a A361     		str	r3, [r4, #24]
 411:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.Mode                = DMA_NORMAL;
 700              		.loc 1 411 3 is_stmt 1 view .LVU192
 701              		.loc 1 411 38 is_stmt 0 view .LVU193
 702 012c E561     		str	r5, [r4, #28]
 412:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.Priority            = DMA_PRIORITY_HIGH;
 703              		.loc 1 412 3 is_stmt 1 view .LVU194
 704              		.loc 1 412 38 is_stmt 0 view .LVU195
 705 012e 4FF40033 		mov	r3, #131072
 706 0132 2362     		str	r3, [r4, #32]
 413:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.FIFOMode            = DMA_FIFOMODE_DISABLE;
 707              		.loc 1 413 3 is_stmt 1 view .LVU196
 708              		.loc 1 413 38 is_stmt 0 view .LVU197
 709 0134 6562     		str	r5, [r4, #36]
 414:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.FIFOThreshold       = DMA_FIFO_THRESHOLD_FULL;
 710              		.loc 1 414 3 is_stmt 1 view .LVU198
 711              		.loc 1 414 38 is_stmt 0 view .LVU199
 712 0136 0323     		movs	r3, #3
 713 0138 A362     		str	r3, [r4, #40]
 415:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.MemBurst            = DMA_MBURST_SINGLE;
 714              		.loc 1 415 3 is_stmt 1 view .LVU200
 715              		.loc 1 415 38 is_stmt 0 view .LVU201
 716 013a E562     		str	r5, [r4, #44]
 416:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Init.PeriphBurst         = DMA_PBURST_SINGLE; 
 717              		.loc 1 416 3 is_stmt 1 view .LVU202
 718              		.loc 1 416 38 is_stmt 0 view .LVU203
 719 013c 2563     		str	r5, [r4, #48]
 417:Src/stm32f429i_discovery_sdram.c ****   
 418:Src/stm32f429i_discovery_sdram.c ****   dmaHandle.Instance = SDRAM_DMAx_STREAM;
 720              		.loc 1 418 3 is_stmt 1 view .LVU204
 721              		.loc 1 418 22 is_stmt 0 view .LVU205
 722 013e 124B     		ldr	r3, .L40+32
 723 0140 2360     		str	r3, [r4]
 419:Src/stm32f429i_discovery_sdram.c ****   
 420:Src/stm32f429i_discovery_sdram.c ****   /* Associate the DMA handle */
 421:Src/stm32f429i_discovery_sdram.c ****   __HAL_LINKDMA(hsdram, hdma, dmaHandle);
 724              		.loc 1 421 3 is_stmt 1 view .LVU206
 725              		.loc 1 421 3 view .LVU207
 726 0142 3463     		str	r4, [r6, #48]
 727              		.loc 1 421 3 view .LVU208
 728 0144 A663     		str	r6, [r4, #56]
 729              		.loc 1 421 3 view .LVU209
 422:Src/stm32f429i_discovery_sdram.c ****   
 423:Src/stm32f429i_discovery_sdram.c ****   /* Deinitialize the stream for new transfer */
 424:Src/stm32f429i_discovery_sdram.c ****   HAL_DMA_DeInit(&dmaHandle);
 730              		.loc 1 424 3 view .LVU210
ARM GAS  /tmp/ccxXSbXI.s 			page 21


 731 0146 2046     		mov	r0, r4
 732 0148 FFF7FEFF 		bl	HAL_DMA_DeInit
 733              	.LVL42:
 425:Src/stm32f429i_discovery_sdram.c ****   
 426:Src/stm32f429i_discovery_sdram.c ****   /* Configure the DMA stream */
 427:Src/stm32f429i_discovery_sdram.c ****   HAL_DMA_Init(&dmaHandle); 
 734              		.loc 1 427 3 view .LVU211
 735 014c 2046     		mov	r0, r4
 736 014e FFF7FEFF 		bl	HAL_DMA_Init
 737              	.LVL43:
 428:Src/stm32f429i_discovery_sdram.c ****   
 429:Src/stm32f429i_discovery_sdram.c ****   /* NVIC configuration for DMA transfer complete interrupt */
 430:Src/stm32f429i_discovery_sdram.c ****   HAL_NVIC_SetPriority(SDRAM_DMAx_IRQn, 0x0F, 0);
 738              		.loc 1 430 3 view .LVU212
 739 0152 2A46     		mov	r2, r5
 740 0154 0F21     		movs	r1, #15
 741 0156 3820     		movs	r0, #56
 742 0158 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 743              	.LVL44:
 431:Src/stm32f429i_discovery_sdram.c ****   HAL_NVIC_EnableIRQ(SDRAM_DMAx_IRQn);
 744              		.loc 1 431 3 view .LVU213
 745 015c 3820     		movs	r0, #56
 746 015e FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 747              	.LVL45:
 432:Src/stm32f429i_discovery_sdram.c ****   } /* of if(hsdram != (SDRAM_HandleTypeDef  *)NULL) */
 433:Src/stm32f429i_discovery_sdram.c **** }
 748              		.loc 1 433 1 is_stmt 0 view .LVU214
 749 0162 0EB0     		add	sp, sp, #56
 750              	.LCFI11:
 751              		.cfi_def_cfa_offset 16
 752              		@ sp needed
 753 0164 70BD     		pop	{r4, r5, r6, pc}
 754              	.LVL46:
 755              	.L37:
 756              	.LCFI12:
 757              		.cfi_def_cfa_offset 0
 758              		.cfi_restore 4
 759              		.cfi_restore 5
 760              		.cfi_restore 6
 761              		.cfi_restore 14
 762              		.loc 1 433 1 view .LVU215
 763 0166 7047     		bx	lr
 764              	.L41:
 765              		.align	2
 766              	.L40:
 767 0168 00380240 		.word	1073887232
 768 016c 00040240 		.word	1073873920
 769 0170 00080240 		.word	1073874944
 770 0174 000C0240 		.word	1073875968
 771 0178 00100240 		.word	1073876992
 772 017c 00140240 		.word	1073878016
 773 0180 00180240 		.word	1073879040
 774 0184 00000000 		.word	.LANCHOR2
 775 0188 10640240 		.word	1073898512
 776              		.cfi_endproc
 777              	.LFE138:
 779              		.section	.text.BSP_SDRAM_Init,"ax",%progbits
ARM GAS  /tmp/ccxXSbXI.s 			page 22


 780              		.align	1
 781              		.global	BSP_SDRAM_Init
 782              		.syntax unified
 783              		.thumb
 784              		.thumb_func
 786              	BSP_SDRAM_Init:
 787              	.LFB130:
  98:Src/stm32f429i_discovery_sdram.c ****   static uint8_t sdramstatus = SDRAM_ERROR;
 788              		.loc 1 98 1 is_stmt 1 view -0
 789              		.cfi_startproc
 790              		@ args = 0, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792 0000 38B5     		push	{r3, r4, r5, lr}
 793              	.LCFI13:
 794              		.cfi_def_cfa_offset 16
 795              		.cfi_offset 3, -16
 796              		.cfi_offset 4, -12
 797              		.cfi_offset 5, -8
 798              		.cfi_offset 14, -4
  99:Src/stm32f429i_discovery_sdram.c **** 
 799              		.loc 1 99 3 view .LVU217
 102:Src/stm32f429i_discovery_sdram.c **** 
 800              		.loc 1 102 3 view .LVU218
 102:Src/stm32f429i_discovery_sdram.c **** 
 801              		.loc 1 102 24 is_stmt 0 view .LVU219
 802 0002 1C4C     		ldr	r4, .L46
 803 0004 1C4B     		ldr	r3, .L46+4
 804 0006 2360     		str	r3, [r4]
 108:Src/stm32f429i_discovery_sdram.c ****   /* TXSR: min=70ns (7x11.11ns) */
 805              		.loc 1 108 3 is_stmt 1 view .LVU220
 108:Src/stm32f429i_discovery_sdram.c ****   /* TXSR: min=70ns (7x11.11ns) */
 806              		.loc 1 108 31 is_stmt 0 view .LVU221
 807 0008 1C4D     		ldr	r5, .L46+8
 808 000a 0223     		movs	r3, #2
 809 000c 2B60     		str	r3, [r5]
 110:Src/stm32f429i_discovery_sdram.c ****   /* TRAS: min=42ns (4x11.11ns) max=120k (ns) */
 810              		.loc 1 110 3 is_stmt 1 view .LVU222
 110:Src/stm32f429i_discovery_sdram.c ****   /* TRAS: min=42ns (4x11.11ns) max=120k (ns) */
 811              		.loc 1 110 31 is_stmt 0 view .LVU223
 812 000e 0721     		movs	r1, #7
 813 0010 6960     		str	r1, [r5, #4]
 112:Src/stm32f429i_discovery_sdram.c ****   /* TRC:  min=70 (7x11.11ns) */
 814              		.loc 1 112 3 is_stmt 1 view .LVU224
 112:Src/stm32f429i_discovery_sdram.c ****   /* TRC:  min=70 (7x11.11ns) */
 815              		.loc 1 112 31 is_stmt 0 view .LVU225
 816 0012 0422     		movs	r2, #4
 817 0014 AA60     		str	r2, [r5, #8]
 114:Src/stm32f429i_discovery_sdram.c ****   /* TWR:  min=1+ 7ns (1+1x11.11ns) */
 818              		.loc 1 114 3 is_stmt 1 view .LVU226
 114:Src/stm32f429i_discovery_sdram.c ****   /* TWR:  min=1+ 7ns (1+1x11.11ns) */
 819              		.loc 1 114 31 is_stmt 0 view .LVU227
 820 0016 E960     		str	r1, [r5, #12]
 116:Src/stm32f429i_discovery_sdram.c ****   /* TRP:  20ns => 2x11.11ns*/
 821              		.loc 1 116 3 is_stmt 1 view .LVU228
 116:Src/stm32f429i_discovery_sdram.c ****   /* TRP:  20ns => 2x11.11ns*/
 822              		.loc 1 116 31 is_stmt 0 view .LVU229
 823 0018 2B61     		str	r3, [r5, #16]
ARM GAS  /tmp/ccxXSbXI.s 			page 23


 118:Src/stm32f429i_discovery_sdram.c ****   /* TRCD: 20ns => 2x11.11ns */
 824              		.loc 1 118 3 is_stmt 1 view .LVU230
 118:Src/stm32f429i_discovery_sdram.c ****   /* TRCD: 20ns => 2x11.11ns */
 825              		.loc 1 118 31 is_stmt 0 view .LVU231
 826 001a 6B61     		str	r3, [r5, #20]
 120:Src/stm32f429i_discovery_sdram.c ****   
 827              		.loc 1 120 3 is_stmt 1 view .LVU232
 120:Src/stm32f429i_discovery_sdram.c ****   
 828              		.loc 1 120 31 is_stmt 0 view .LVU233
 829 001c AB61     		str	r3, [r5, #24]
 123:Src/stm32f429i_discovery_sdram.c ****   /* Row addressing: [7:0] */
 830              		.loc 1 123 3 is_stmt 1 view .LVU234
 123:Src/stm32f429i_discovery_sdram.c ****   /* Row addressing: [7:0] */
 831              		.loc 1 123 39 is_stmt 0 view .LVU235
 832 001e 0123     		movs	r3, #1
 833 0020 6360     		str	r3, [r4, #4]
 125:Src/stm32f429i_discovery_sdram.c ****   /* Column addressing: [11:0] */
 834              		.loc 1 125 3 is_stmt 1 view .LVU236
 125:Src/stm32f429i_discovery_sdram.c ****   /* Column addressing: [11:0] */
 835              		.loc 1 125 39 is_stmt 0 view .LVU237
 836 0022 0021     		movs	r1, #0
 837 0024 A160     		str	r1, [r4, #8]
 127:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.MemoryDataWidth    = SDRAM_MEMORY_WIDTH;
 838              		.loc 1 127 3 is_stmt 1 view .LVU238
 127:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.MemoryDataWidth    = SDRAM_MEMORY_WIDTH;
 839              		.loc 1 127 39 is_stmt 0 view .LVU239
 840 0026 E260     		str	r2, [r4, #12]
 128:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.InternalBankNumber = FMC_SDRAM_INTERN_BANKS_NUM_4;
 841              		.loc 1 128 3 is_stmt 1 view .LVU240
 128:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.InternalBankNumber = FMC_SDRAM_INTERN_BANKS_NUM_4;
 842              		.loc 1 128 39 is_stmt 0 view .LVU241
 843 0028 1023     		movs	r3, #16
 844 002a 2361     		str	r3, [r4, #16]
 129:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.CASLatency         = SDRAM_CAS_LATENCY;
 845              		.loc 1 129 3 is_stmt 1 view .LVU242
 129:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.CASLatency         = SDRAM_CAS_LATENCY;
 846              		.loc 1 129 39 is_stmt 0 view .LVU243
 847 002c 4023     		movs	r3, #64
 848 002e 6361     		str	r3, [r4, #20]
 130:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.WriteProtection    = FMC_SDRAM_WRITE_PROTECTION_DISABLE;
 849              		.loc 1 130 3 is_stmt 1 view .LVU244
 130:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.WriteProtection    = FMC_SDRAM_WRITE_PROTECTION_DISABLE;
 850              		.loc 1 130 39 is_stmt 0 view .LVU245
 851 0030 4FF4C073 		mov	r3, #384
 852 0034 A361     		str	r3, [r4, #24]
 131:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.SDClockPeriod      = SDCLOCK_PERIOD;
 853              		.loc 1 131 3 is_stmt 1 view .LVU246
 131:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.SDClockPeriod      = SDCLOCK_PERIOD;
 854              		.loc 1 131 39 is_stmt 0 view .LVU247
 855 0036 E161     		str	r1, [r4, #28]
 132:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.ReadBurst          = SDRAM_READBURST;
 856              		.loc 1 132 3 is_stmt 1 view .LVU248
 132:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.ReadBurst          = SDRAM_READBURST;
 857              		.loc 1 132 39 is_stmt 0 view .LVU249
 858 0038 4FF40063 		mov	r3, #2048
 859 003c 2362     		str	r3, [r4, #32]
 133:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.ReadPipeDelay      = FMC_SDRAM_RPIPE_DELAY_1;
ARM GAS  /tmp/ccxXSbXI.s 			page 24


 860              		.loc 1 133 3 is_stmt 1 view .LVU250
 133:Src/stm32f429i_discovery_sdram.c ****   SdramHandle.Init.ReadPipeDelay      = FMC_SDRAM_RPIPE_DELAY_1;
 861              		.loc 1 133 39 is_stmt 0 view .LVU251
 862 003e 6162     		str	r1, [r4, #36]
 134:Src/stm32f429i_discovery_sdram.c ****                     
 863              		.loc 1 134 3 is_stmt 1 view .LVU252
 134:Src/stm32f429i_discovery_sdram.c ****                     
 864              		.loc 1 134 39 is_stmt 0 view .LVU253
 865 0040 4FF40053 		mov	r3, #8192
 866 0044 A362     		str	r3, [r4, #40]
 138:Src/stm32f429i_discovery_sdram.c ****   if(HAL_SDRAM_Init(&SdramHandle, &Timing) != HAL_OK)
 867              		.loc 1 138 3 is_stmt 1 view .LVU254
 868 0046 2046     		mov	r0, r4
 869 0048 FFF7FEFF 		bl	BSP_SDRAM_MspInit
 870              	.LVL47:
 139:Src/stm32f429i_discovery_sdram.c ****   {
 871              		.loc 1 139 3 view .LVU255
 139:Src/stm32f429i_discovery_sdram.c ****   {
 872              		.loc 1 139 6 is_stmt 0 view .LVU256
 873 004c 2946     		mov	r1, r5
 874 004e 2046     		mov	r0, r4
 875 0050 FFF7FEFF 		bl	HAL_SDRAM_Init
 876              	.LVL48:
 139:Src/stm32f429i_discovery_sdram.c ****   {
 877              		.loc 1 139 5 view .LVU257
 878 0054 48B1     		cbz	r0, .L43
 141:Src/stm32f429i_discovery_sdram.c ****   }
 879              		.loc 1 141 5 is_stmt 1 view .LVU258
 141:Src/stm32f429i_discovery_sdram.c ****   }
 880              		.loc 1 141 17 is_stmt 0 view .LVU259
 881 0056 0A4B     		ldr	r3, .L46+12
 882 0058 0122     		movs	r2, #1
 883 005a 1A70     		strb	r2, [r3]
 884              	.L44:
 149:Src/stm32f429i_discovery_sdram.c ****   
 885              		.loc 1 149 3 is_stmt 1 view .LVU260
 886 005c 40F26A50 		movw	r0, #1386
 887 0060 FFF7FEFF 		bl	BSP_SDRAM_Initialization_sequence
 888              	.LVL49:
 151:Src/stm32f429i_discovery_sdram.c **** }
 889              		.loc 1 151 3 view .LVU261
 152:Src/stm32f429i_discovery_sdram.c **** 
 890              		.loc 1 152 1 is_stmt 0 view .LVU262
 891 0064 064B     		ldr	r3, .L46+12
 892 0066 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 893 0068 38BD     		pop	{r3, r4, r5, pc}
 894              	.L43:
 145:Src/stm32f429i_discovery_sdram.c ****   }
 895              		.loc 1 145 5 is_stmt 1 view .LVU263
 145:Src/stm32f429i_discovery_sdram.c ****   }
 896              		.loc 1 145 17 is_stmt 0 view .LVU264
 897 006a 054B     		ldr	r3, .L46+12
 898 006c 0022     		movs	r2, #0
 899 006e 1A70     		strb	r2, [r3]
 900 0070 F4E7     		b	.L44
 901              	.L47:
 902 0072 00BF     		.align	2
ARM GAS  /tmp/ccxXSbXI.s 			page 25


 903              	.L46:
 904 0074 00000000 		.word	.LANCHOR1
 905 0078 400100A0 		.word	-1610612416
 906 007c 00000000 		.word	.LANCHOR3
 907 0080 00000000 		.word	.LANCHOR4
 908              		.cfi_endproc
 909              	.LFE130:
 911              		.section	.text.BSP_SDRAM_MspDeInit,"ax",%progbits
 912              		.align	1
 913              		.weak	BSP_SDRAM_MspDeInit
 914              		.syntax unified
 915              		.thumb
 916              		.thumb_func
 918              	BSP_SDRAM_MspDeInit:
 919              	.LVL50:
 920              	.LFB139:
 434:Src/stm32f429i_discovery_sdram.c **** 
 435:Src/stm32f429i_discovery_sdram.c **** /**
 436:Src/stm32f429i_discovery_sdram.c ****   * @brief  DeInitializes SDRAM MSP.
 437:Src/stm32f429i_discovery_sdram.c ****   * @note   This function can be surcharged by application code.
 438:Src/stm32f429i_discovery_sdram.c ****   * @param  hsdram: pointer on SDRAM handle
 439:Src/stm32f429i_discovery_sdram.c ****   * @param  Params: pointer on additional configuration parameters, can be NULL.
 440:Src/stm32f429i_discovery_sdram.c ****   */
 441:Src/stm32f429i_discovery_sdram.c **** __weak void BSP_SDRAM_MspDeInit(SDRAM_HandleTypeDef  *hsdram, void *Params)
 442:Src/stm32f429i_discovery_sdram.c **** {
 921              		.loc 1 442 1 is_stmt 1 view -0
 922              		.cfi_startproc
 923              		@ args = 0, pretend = 0, frame = 0
 924              		@ frame_needed = 0, uses_anonymous_args = 0
 443:Src/stm32f429i_discovery_sdram.c ****     static DMA_HandleTypeDef dma_handle;
 925              		.loc 1 443 5 view .LVU266
 444:Src/stm32f429i_discovery_sdram.c **** 
 445:Src/stm32f429i_discovery_sdram.c ****     if(hsdram != (SDRAM_HandleTypeDef  *)NULL)
 926              		.loc 1 445 5 view .LVU267
 927              		.loc 1 445 7 is_stmt 0 view .LVU268
 928 0000 48B1     		cbz	r0, .L51
 442:Src/stm32f429i_discovery_sdram.c ****     static DMA_HandleTypeDef dma_handle;
 929              		.loc 1 442 1 view .LVU269
 930 0002 08B5     		push	{r3, lr}
 931              	.LCFI14:
 932              		.cfi_def_cfa_offset 8
 933              		.cfi_offset 3, -8
 934              		.cfi_offset 14, -4
 446:Src/stm32f429i_discovery_sdram.c ****     {
 447:Src/stm32f429i_discovery_sdram.c ****       /* Disable NVIC configuration for DMA interrupt */
 448:Src/stm32f429i_discovery_sdram.c ****       HAL_NVIC_DisableIRQ(SDRAM_DMAx_IRQn);
 935              		.loc 1 448 7 is_stmt 1 view .LVU270
 936 0004 3820     		movs	r0, #56
 937              	.LVL51:
 938              		.loc 1 448 7 is_stmt 0 view .LVU271
 939 0006 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 940              	.LVL52:
 449:Src/stm32f429i_discovery_sdram.c **** 
 450:Src/stm32f429i_discovery_sdram.c ****       /* Deinitialize the stream for new transfer */
 451:Src/stm32f429i_discovery_sdram.c ****       dma_handle.Instance = SDRAM_DMAx_STREAM;
 941              		.loc 1 451 7 is_stmt 1 view .LVU272
 942              		.loc 1 451 27 is_stmt 0 view .LVU273
ARM GAS  /tmp/ccxXSbXI.s 			page 26


 943 000a 0348     		ldr	r0, .L54
 944 000c 034B     		ldr	r3, .L54+4
 945 000e 0360     		str	r3, [r0]
 452:Src/stm32f429i_discovery_sdram.c ****       HAL_DMA_DeInit(&dma_handle);
 946              		.loc 1 452 7 is_stmt 1 view .LVU274
 947 0010 FFF7FEFF 		bl	HAL_DMA_DeInit
 948              	.LVL53:
 453:Src/stm32f429i_discovery_sdram.c **** 
 454:Src/stm32f429i_discovery_sdram.c ****       /* DeInit GPIO pins can be done in the application
 455:Src/stm32f429i_discovery_sdram.c ****        (by surcharging this __weak function) */
 456:Src/stm32f429i_discovery_sdram.c **** 
 457:Src/stm32f429i_discovery_sdram.c ****       /* GPIO pins clock, FMC clock and DMA clock can be shut down in the application
 458:Src/stm32f429i_discovery_sdram.c ****        by surcharging this __weak function */
 459:Src/stm32f429i_discovery_sdram.c **** 
 460:Src/stm32f429i_discovery_sdram.c ****     } /* of if(hsdram != (SDRAM_HandleTypeDef  *)NULL) */
 461:Src/stm32f429i_discovery_sdram.c **** }
 949              		.loc 1 461 1 is_stmt 0 view .LVU275
 950 0014 08BD     		pop	{r3, pc}
 951              	.LVL54:
 952              	.L51:
 953              	.LCFI15:
 954              		.cfi_def_cfa_offset 0
 955              		.cfi_restore 3
 956              		.cfi_restore 14
 957              		.loc 1 461 1 view .LVU276
 958 0016 7047     		bx	lr
 959              	.L55:
 960              		.align	2
 961              	.L54:
 962 0018 00000000 		.word	.LANCHOR5
 963 001c 10640240 		.word	1073898512
 964              		.cfi_endproc
 965              	.LFE139:
 967              		.section	.bss.Command,"aw",%nobits
 968              		.align	2
 969              		.set	.LANCHOR0,. + 0
 972              	Command:
 973 0000 00000000 		.space	16
 973      00000000 
 973      00000000 
 973      00000000 
 974              		.section	.bss.SdramHandle,"aw",%nobits
 975              		.align	2
 976              		.set	.LANCHOR1,. + 0
 979              	SdramHandle:
 980 0000 00000000 		.space	52
 980      00000000 
 980      00000000 
 980      00000000 
 980      00000000 
 981              		.section	.bss.Timing,"aw",%nobits
 982              		.align	2
 983              		.set	.LANCHOR3,. + 0
 986              	Timing:
 987 0000 00000000 		.space	28
 987      00000000 
 987      00000000 
ARM GAS  /tmp/ccxXSbXI.s 			page 27


 987      00000000 
 987      00000000 
 988              		.section	.bss.dmaHandle.1,"aw",%nobits
 989              		.align	2
 990              		.set	.LANCHOR2,. + 0
 993              	dmaHandle.1:
 994 0000 00000000 		.space	96
 994      00000000 
 994      00000000 
 994      00000000 
 994      00000000 
 995              		.section	.bss.dma_handle.0,"aw",%nobits
 996              		.align	2
 997              		.set	.LANCHOR5,. + 0
 1000              	dma_handle.0:
 1001 0000 00000000 		.space	96
 1001      00000000 
 1001      00000000 
 1001      00000000 
 1001      00000000 
 1002              		.section	.data.sdramstatus.2,"aw"
 1003              		.set	.LANCHOR4,. + 0
 1006              	sdramstatus.2:
 1007 0000 01       		.byte	1
 1008              		.text
 1009              	.Letext0:
 1010              		.file 2 "/home/irfan/Desktop/arm/gcc-arm-none-eabi-10.3-2021.10-x86_64-linux/gcc-arm-none-eabi-10.
 1011              		.file 3 "/home/irfan/Desktop/arm/gcc-arm-none-eabi-10.3-2021.10-x86_64-linux/gcc-arm-none-eabi-10.
 1012              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f429xx.h"
 1013              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1014              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1015              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1016              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_fmc.h"
 1017              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_sdram.h"
 1018              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 1019              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccxXSbXI.s 			page 28


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f429i_discovery_sdram.c
     /tmp/ccxXSbXI.s:20     .text.BSP_SDRAM_Initialization_sequence:0000000000000000 $t
     /tmp/ccxXSbXI.s:26     .text.BSP_SDRAM_Initialization_sequence:0000000000000000 BSP_SDRAM_Initialization_sequence
     /tmp/ccxXSbXI.s:160    .text.BSP_SDRAM_Initialization_sequence:0000000000000098 $d
     /tmp/ccxXSbXI.s:166    .text.BSP_SDRAM_ReadData:0000000000000000 $t
     /tmp/ccxXSbXI.s:172    .text.BSP_SDRAM_ReadData:0000000000000000 BSP_SDRAM_ReadData
     /tmp/ccxXSbXI.s:209    .text.BSP_SDRAM_ReadData:0000000000000014 $d
     /tmp/ccxXSbXI.s:214    .text.BSP_SDRAM_ReadData_DMA:0000000000000000 $t
     /tmp/ccxXSbXI.s:220    .text.BSP_SDRAM_ReadData_DMA:0000000000000000 BSP_SDRAM_ReadData_DMA
     /tmp/ccxXSbXI.s:257    .text.BSP_SDRAM_ReadData_DMA:0000000000000014 $d
     /tmp/ccxXSbXI.s:262    .text.BSP_SDRAM_WriteData:0000000000000000 $t
     /tmp/ccxXSbXI.s:268    .text.BSP_SDRAM_WriteData:0000000000000000 BSP_SDRAM_WriteData
     /tmp/ccxXSbXI.s:315    .text.BSP_SDRAM_WriteData:0000000000000024 $d
     /tmp/ccxXSbXI.s:320    .text.BSP_SDRAM_WriteData_DMA:0000000000000000 $t
     /tmp/ccxXSbXI.s:326    .text.BSP_SDRAM_WriteData_DMA:0000000000000000 BSP_SDRAM_WriteData_DMA
     /tmp/ccxXSbXI.s:363    .text.BSP_SDRAM_WriteData_DMA:0000000000000014 $d
     /tmp/ccxXSbXI.s:368    .text.BSP_SDRAM_Sendcmd:0000000000000000 $t
     /tmp/ccxXSbXI.s:374    .text.BSP_SDRAM_Sendcmd:0000000000000000 BSP_SDRAM_Sendcmd
     /tmp/ccxXSbXI.s:406    .text.BSP_SDRAM_Sendcmd:0000000000000014 $d
     /tmp/ccxXSbXI.s:411    .text.BSP_SDRAM_DMA_IRQHandler:0000000000000000 $t
     /tmp/ccxXSbXI.s:417    .text.BSP_SDRAM_DMA_IRQHandler:0000000000000000 BSP_SDRAM_DMA_IRQHandler
     /tmp/ccxXSbXI.s:438    .text.BSP_SDRAM_DMA_IRQHandler:000000000000000c $d
     /tmp/ccxXSbXI.s:443    .text.BSP_SDRAM_MspInit:0000000000000000 $t
     /tmp/ccxXSbXI.s:449    .text.BSP_SDRAM_MspInit:0000000000000000 BSP_SDRAM_MspInit
     /tmp/ccxXSbXI.s:767    .text.BSP_SDRAM_MspInit:0000000000000168 $d
     /tmp/ccxXSbXI.s:780    .text.BSP_SDRAM_Init:0000000000000000 $t
     /tmp/ccxXSbXI.s:786    .text.BSP_SDRAM_Init:0000000000000000 BSP_SDRAM_Init
     /tmp/ccxXSbXI.s:904    .text.BSP_SDRAM_Init:0000000000000074 $d
     /tmp/ccxXSbXI.s:912    .text.BSP_SDRAM_MspDeInit:0000000000000000 $t
     /tmp/ccxXSbXI.s:918    .text.BSP_SDRAM_MspDeInit:0000000000000000 BSP_SDRAM_MspDeInit
     /tmp/ccxXSbXI.s:962    .text.BSP_SDRAM_MspDeInit:0000000000000018 $d
     /tmp/ccxXSbXI.s:968    .bss.Command:0000000000000000 $d
     /tmp/ccxXSbXI.s:972    .bss.Command:0000000000000000 Command
     /tmp/ccxXSbXI.s:975    .bss.SdramHandle:0000000000000000 $d
     /tmp/ccxXSbXI.s:979    .bss.SdramHandle:0000000000000000 SdramHandle
     /tmp/ccxXSbXI.s:982    .bss.Timing:0000000000000000 $d
     /tmp/ccxXSbXI.s:986    .bss.Timing:0000000000000000 Timing
     /tmp/ccxXSbXI.s:989    .bss.dmaHandle.1:0000000000000000 $d
     /tmp/ccxXSbXI.s:993    .bss.dmaHandle.1:0000000000000000 dmaHandle.1
     /tmp/ccxXSbXI.s:996    .bss.dma_handle.0:0000000000000000 $d
     /tmp/ccxXSbXI.s:1000   .bss.dma_handle.0:0000000000000000 dma_handle.0
     /tmp/ccxXSbXI.s:1006   .data.sdramstatus.2:0000000000000000 sdramstatus.2

UNDEFINED SYMBOLS
HAL_SDRAM_SendCommand
HAL_Delay
HAL_SDRAM_ProgramRefreshRate
HAL_SDRAM_Read_32b
HAL_SDRAM_Read_DMA
HAL_SDRAM_WriteProtection_Disable
HAL_SDRAM_Write_32b
HAL_SDRAM_Write_DMA
HAL_DMA_IRQHandler
HAL_GPIO_Init
HAL_DMA_DeInit
HAL_DMA_Init
ARM GAS  /tmp/ccxXSbXI.s 			page 29


HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_SDRAM_Init
HAL_NVIC_DisableIRQ
